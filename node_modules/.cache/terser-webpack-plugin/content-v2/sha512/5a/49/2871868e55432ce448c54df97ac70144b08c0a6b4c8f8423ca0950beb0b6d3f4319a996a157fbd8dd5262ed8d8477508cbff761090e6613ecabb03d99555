{"code":"(this[\"webpackJsonpcandy-machine-mint\"]=this[\"webpackJsonpcandy-machine-mint\"]||[]).push([[0],{225:function(e,t,n){},226:function(e,t){},228:function(e,t){},249:function(e,t){},250:function(e,t){},317:function(e,t,n){},318:function(e,t,n){\"use strict\";n.r(t);var r,a=n(4),i=n.n(a),c=n(31),s=n.n(c),o=(n(225),n(23)),u=n(9),l=n(3),p=n(12),d=n(110),b=n(1),f=n.n(b),g=n(90),h=n(358),m=n(368),x=n(353),v=n(366),y=n(359),j=n(354),k=n(25),O=n(195),w=n(140),S=n(85),T=n(48),P=n(202),M=n(349),A=n(372),K=n(21),E=Object(M.a)((function(e){return Object(A.a)({root:{display:\"flex\",padding:e.spacing(0),\"& > *\":{margin:e.spacing(.4),width:e.spacing(6),height:e.spacing(6),display:\"flex\",flexDirection:\"column\",alignContent:\"center\",alignItems:\"center\",justifyContent:\"center\",background:\"#384457\",color:\"white\",borderRadius:5,fontSize:10}},done:{display:\"flex\",margin:0,marginBottom:e.spacing(.5),height:e.spacing(3.5),padding:e.spacing(1),flexDirection:\"column\",alignContent:\"center\",alignItems:\"center\",justifyContent:\"center\",background:\"#384457\",color:\"white\",borderRadius:5,fontWeight:\"bold\",fontSize:18},item:{fontWeight:\"bold\",fontSize:18}})})),R=function(e){var t=e.date,n=e.status,r=e.style,a=e.onComplete,i=E();return t?Object(K.jsx)(P.a,{date:t,onComplete:a,renderer:function(e){var t=e.days,a=e.hours,c=e.minutes,s=e.seconds;return a+=24*t,e.completed?n?Object(K.jsx)(\"span\",{className:i.done,children:n}):null:Object(K.jsxs)(\"div\",{className:i.root,style:r,children:[Object(K.jsxs)(x.a,{elevation:0,children:[Object(K.jsx)(\"span\",{className:i.item,children:a<10?\"0\".concat(a):a}),Object(K.jsx)(\"span\",{children:\"hrs\"})]}),Object(K.jsxs)(x.a,{elevation:0,children:[Object(K.jsx)(\"span\",{className:i.item,children:c<10?\"0\".concat(c):c}),Object(K.jsx)(\"span\",{children:\"mins\"})]}),Object(K.jsxs)(x.a,{elevation:0,children:[Object(K.jsx)(\"span\",{className:i.item,children:s<10?\"0\".concat(s):s}),Object(K.jsx)(\"span\",{children:\"secs\"})]})]})}}):null},I=n(351),C=n(357),N=n(84),D=n(206),B=n(112),W=Object(g.default)(I.a)(r||(r=Object(d.a)([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"]))),L=function(e){var t=e.onMint,n=e.candyMachine,r=e.isMinting,i=e.setIsMinting,c=e.isActive,s=Object(O.b)(),o=Object(D.b)(),u=Object(a.useState)(!1),d=Object(p.a)(u,2),b=d[0],g=d[1],h=Object(N.useGateway)(),m=h.requestGatewayToken,x=h.gatewayStatus,v=Object(a.useState)(-1),y=Object(p.a)(v,2),j=y[0],k=y[1],w=Object(a.useState)(!1),S=Object(p.a)(w,2),T=S[0],P=S[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.removeAccountChangeListener)(o.connection,j);case 2:return e.next=4,t();case 4:P(!1),g(!1);case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&T&&e()}),[b,T,o.connection,t,j]);var M=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current}(x);return Object(a.useEffect)((function(){var e=[N.GatewayStatus.NOT_REQUESTED,N.GatewayStatus.REFRESH_TOKEN_REQUIRED],t=[].concat(e,[N.GatewayStatus.UNKNOWN]);e.find((function(e){return M===e}))&&!t.find((function(e){return x===e}))&&i(!0),console.log(\"change: \",x)}),[i,M,x]),Object(K.jsx)(W,{disabled:r||!c,onClick:Object(l.a)(f.a.mark((function e(){var r,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.state.isActive||null===n||void 0===n||!n.state.gatekeeper){e.next=34;break}if(\"ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6\"!==(r=n.state.gatekeeper.gatekeeperNetwork.toBase58())){e.next=13;break}if(x!==N.GatewayStatus.ACTIVE){e.next=8;break}return e.next=6,t();case 6:e.next=11;break;case 8:return e.next=10,m();case 10:console.log(\"after: \",x);case 11:e.next=32;break;case 13:if(\"ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE\"!==r&&\"tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt\"!==r){e.next=30;break}return P(!0),e.next=17,Object(B.findGatewayToken)(o.connection,s.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 17:if(null===(a=e.sent)||void 0===a||!a.isValid()){e.next=23;break}return e.next=21,t();case 21:e.next=28;break;case 23:return window.open(\"https://verify.encore.fans/?gkNetwork=\".concat(r),\"_blank\"),e.next=26,Object(B.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(s.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 26:i=e.sent,k(Object(B.onGatewayTokenChange)(o.connection,i,(function(){return g(!0)}),\"confirmed\"));case 28:e.next=32;break;case 30:throw P(!1),new Error(\"Unknown Gatekeeper Network: \".concat(r));case 32:e.next=37;break;case 34:return e.next=36,t();case 36:P(!1);case 37:case\"end\":return e.stop()}}),e)}))),variant:\"contained\",children:null!==n&&void 0!==n&&n.state.isSoldOut?\"SOLD OUT\":r?Object(K.jsx)(C.a,{}):null!==n&&void 0!==n&&n.state.isPresale||null!==n&&void 0!==n&&n.state.isWhitelistOnly?\"WHITELIST MINT\":\"MINT\"})};var _,U,F=n(74),G=n(207),Y=Object(g.default)(w.a)(_||(_=Object(d.a)([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"]))),H=g.default.div(U||(U=Object(d.a)([\"\"]))),z=function(e){var t;return e.state.isActive&&null!==(t=e.state.endSettings)&&void 0!==t&&t.endSettingType.date?Object(T.g)(e.state.endSettings.number):Object(T.g)(e.state.goLiveDate?e.state.goLiveDate:e.state.isPresale?new o.a((new Date).getTime()/1e3):void 0)},q=function(e){var t,n,r,i=Object(a.useState)(!1),c=Object(p.a)(i,2),s=c[0],d=c[1],b=Object(a.useState)(),g=Object(p.a)(b,2),w=g[0],P=g[1],M=Object(a.useState)({open:!1,message:\"\",severity:void 0}),A=Object(p.a)(M,2),E=A[0],I=A[1],C=Object(a.useState)(!1),D=Object(p.a)(C,2),B=D[0],W=D[1],_=Object(a.useState)(),U=Object(p.a)(_,2),q=U[0],V=U[1],J=Object(a.useState)(),Z=Object(p.a)(J,2),X=Z[0],Q=Z[1],$=Object(a.useState)(!1),ee=Object(p.a)($,2),te=ee[0],ne=ee[1],re=Object(a.useState)(!1),ae=Object(p.a)(re,2),ie=ae[0],ce=ae[1],se=Object(a.useState)(!1),oe=Object(p.a)(se,2),ue=oe[0],le=oe[1],pe=Object(a.useState)(),de=Object(p.a)(pe,2),be=de[0],fe=de[1],ge=Object(a.useState)(!0),he=Object(p.a)(ge,2),me=he[0],xe=he[1],ve=Object(a.useState)(),ye=Object(p.a)(ve,2),je=ye[0],ke=ye[1],Oe=e.rpcHost,we=Object(O.b)(),Se=Object(a.useMemo)((function(){if(we&&we.publicKey&&we.signAllTransactions&&we.signTransaction)return{publicKey:we.publicKey,signAllTransactions:we.signAllTransactions,signTransaction:we.signTransaction}}),[we]),Te=Object(a.useCallback)(Object(l.a)(f.a.mark((function t(){var n,r,a,i,c,s,u,l,d,b,g,h,m,x,v,y,j,O,w,M,A,K,E,R,C,N,D,B,L=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=L.length>0&&void 0!==L[0]?L[0]:\"confirmed\",Se){t.next=3;break}return t.abrupt(\"return\");case 3:if(r=new k.Connection(e.rpcHost,n),!e.candyMachineId){t.next=90;break}return t.prev=5,t.next=8,Object(S.d)(Se,e.candyMachineId,r);case 8:if(d=t.sent,b=(null===d||void 0===d||null===(a=d.state.goLiveDate)||void 0===a?void 0:a.toNumber())<(new Date).getTime()/1e3,g=!1,h=!1,m=d.state.price,null===d||void 0===d||!d.state.whitelistMintSettings){t.next=35;break}return d.state.whitelistMintSettings.presale&&(!d.state.goLiveDate||d.state.goLiveDate.toNumber()>(new Date).getTime()/1e3)&&(g=!0),d.state.whitelistMintSettings.discountPrice?(fe(d.state.whitelistMintSettings.discountPrice),m=d.state.whitelistMintSettings.discountPrice):(fe(void 0),d.state.whitelistMintSettings.presale||(d.state.isWhitelistOnly=!0)),x=new o.e.PublicKey(d.state.whitelistMintSettings.mint),t.next=19,Object(T.d)(x,Se.publicKey);case 19:return v=t.sent[0],t.prev=20,t.next=23,r.getTokenAccountBalance(v);case 23:y=t.sent,h=parseInt(y.value.amount)>0,ne(h),d.state.isWhitelistOnly&&(b=h&&(g||b)),t.next=35;break;case 29:t.prev=29,t.t0=t.catch(20),ne(!1),d.state.isWhitelistOnly&&(b=!1),console.log(\"There was a problem fetching whitelist token balance\"),console.log(t.t0);case 35:if(m=h?m:d.state.price,null===d||void 0===d||!d.state.tokenMint){t.next=58;break}return j=new o.e.PublicKey(d.state.tokenMint),t.next=40,Object(T.d)(j,Se.publicKey);case 40:return O=t.sent[0],t.prev=41,t.next=44,r.getTokenAccountBalance(O);case 44:w=t.sent,M=new o.a(w.value.amount).gte(m),le(M),b=b&&M,t.next=56;break;case 50:t.prev=50,t.t1=t.catch(41),le(!1),b=!1,console.log(\"There was a problem fetching SPL token balance\"),console.log(t.t1);case 56:t.next=66;break;case 58:return t.t2=o.a,t.next=61,r.getBalance(Se.publicKey);case 61:t.t3=t.sent,A=new t.t2(t.t3),K=A.gte(m),le(K),b=b&&K;case 66:return null!==d&&void 0!==d&&null!==(i=d.state.endSettings)&&void 0!==i&&i.endSettingType.date&&(V(Object(T.g)(d.state.endSettings.number)),d.state.endSettings.number.toNumber()<(new Date).getTime()/1e3&&(b=!1)),null!==d&&void 0!==d&&null!==(c=d.state.endSettings)&&void 0!==c&&c.endSettingType.amount?(E=Math.min(d.state.endSettings.number.toNumber(),d.state.itemsAvailable),d.state.itemsRedeemed<E?Q(E-d.state.itemsRedeemed):(Q(0),d.state.isSoldOut=!0)):Q(d.state.itemsRemaining),d.state.isSoldOut&&(b=!1),t.next=71,Object(S.e)(e.candyMachineId);case 71:return R=t.sent,C=Object(p.a)(R,1),N=C[0],t.next=76,r.getAccountInfo(N);case 76:D=t.sent,W(d.state.isActive=b),ce(d.state.isPresale=g),P(d),B=892+(D&&d.state.retainAuthority?182:0)+(d.state.tokenMint?177:0)+(d.state.whitelistMintSettings?33:0)+(null!==(s=d.state.whitelistMintSettings)&&void 0!==s&&null!==(u=s.mode)&&void 0!==u&&u.burnEveryTime?145:0)+(d.state.gatekeeper?33:0)+(null!==(l=d.state.gatekeeper)&&void 0!==l&&l.expireOnUse?66:0),xe(B>1230),t.next=88;break;case 84:t.prev=84,t.t4=t.catch(5),t.t4 instanceof Error?t.t4.message===\"Account does not exist \".concat(e.candyMachineId)?I({open:!0,message:\"Couldn't fetch candy machine state from candy machine with address: \".concat(e.candyMachineId,\", using rpc: \").concat(e.rpcHost,\"! You probably typed the REACT_APP_CANDY_MACHINE_ID value in wrong in your .env file, or you are using the wrong RPC!\"),severity:\"error\",hideDuration:null}):t.t4.message.startsWith(\"failed to get info about account\")&&I({open:!0,message:\"Couldn't fetch candy machine state with rpc: \".concat(e.rpcHost,\"! This probably means you have an issue with the REACT_APP_SOLANA_RPC_HOST value in your .env file, or you are not using a custom RPC!\"),severity:\"error\",hideDuration:null}):I({open:!0,message:\"\".concat(t.t4),severity:\"error\",hideDuration:null}),console.log(t.t4);case 88:t.next=91;break;case 90:I({open:!0,message:\"Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!\",severity:\"error\",hideDuration:null});case 91:case\"end\":return t.stop()}}),t,null,[[5,84],[20,29],[41,50]])}))),[Se,e.candyMachineId,e.rpcHost]),Pe=function(){var t=Object(l.a)(f.a.mark((function t(){var n,r,a,i,c,s,o,u,l,p,b,g=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=g.length>0&&void 0!==g[0]?g[0]:[],r=g.length>1&&void 0!==g[1]?g[1]:[],t.prev=2,d(!0),null===(a=document.getElementById(\"#identity\"))||void 0===a||a.click(),!(we.connected&&null!==w&&void 0!==w&&w.program&&we.publicKey)){t.next=41;break}if(!me||void 0!==je){t.next=26;break}return I({open:!0,message:\"Please sign account setup transaction\",severity:\"info\"}),t.next=10,Object(S.c)(w,we.publicKey);case 10:if(c=t.sent,s={err:!0},!c.transaction){t.next=16;break}return t.next=15,Object(S.b)(c.transaction,e.txTimeout,e.connection,!0);case 15:s=t.sent;case 16:if(!s||s.err){t.next=21;break}ke(c),I({open:!0,message:\"Setup transaction succeeded! Please sign minting transaction\",severity:\"info\"}),t.next=24;break;case 21:return I({open:!0,message:\"Mint failed! Please try again!\",severity:\"error\"}),d(!1),t.abrupt(\"return\");case 24:t.next=27;break;case 26:I({open:!0,message:\"Please sign minting transaction\",severity:\"info\"});case 27:return t.next=29,Object(S.f)(w,we.publicKey,n,r,null!==(i=c)&&void 0!==i?i:je);case 29:if(o=t.sent,u={err:!0},l=null,!o){t.next=40;break}return t.next=35,Object(S.b)(o.mintTxId,e.txTimeout,e.connection,!0);case 35:return u=t.sent,t.next=38,w.program.provider.connection.getAccountInfo(o.metadataKey,\"processed\");case 38:l=t.sent,console.log(\"Metadata status: \",!!l);case 40:u&&!u.err&&l?(Q(p=X-1),W(w.state.isActive=p>0),w.state.isSoldOut=0===p,ke(void 0),I({open:!0,message:\"Congratulations! Mint succeeded!\",severity:\"success\",hideDuration:7e3}),Te(\"processed\")):u&&!u.err?(I({open:!0,message:\"Mint likely failed! Anti-bot SOL 0.01 fee potentially charged! Check the explorer to confirm the mint failed and if so, make sure you are eligible to mint before trying again.\",severity:\"error\",hideDuration:8e3}),Te()):(I({open:!0,message:\"Mint failed! Please try again!\",severity:\"error\"}),Te());case 41:t.next=49;break;case 43:t.prev=43,t.t0=t.catch(2),b=t.t0.msg||\"Minting failed! Please try again!\",t.t0.msg?311===t.t0.code?(console.log(t.t0),b=\"SOLD OUT!\",window.location.reload()):312===t.t0.code&&(b=\"Minting period hasn't started yet.\"):t.t0.message?t.t0.message.indexOf(\"0x137\")?(console.log(t.t0),b=\"SOLD OUT!\"):t.t0.message.indexOf(\"0x135\")&&(b=\"Insufficient funds to mint. Please fund your wallet.\"):b=\"Transaction timeout! Please try again.\",I({open:!0,message:b,severity:\"error\"}),Te();case 49:return t.prev=49,d(!1),t.finish(49);case 52:case\"end\":return t.stop()}}),t,null,[[2,43,49,52]])})));return function(){return t.apply(this,arguments)}}(),Me=function(){var e=!B||ie;e&&(w.state.isWhitelistOnly&&!te&&(e=!1),q&&Date.now()>=q.getTime()&&(e=!1)),ie&&w.state.goLiveDate&&w.state.goLiveDate.toNumber()<=(new Date).getTime()/1e3&&ce(w.state.isPresale=!1),W(w.state.isActive=e)};return Object(a.useEffect)((function(){Te()}),[Se,e.candyMachineId,e.connection,Te]),Object(a.useEffect)((function(){!function e(){setTimeout((function(){Te(),e()}),2e4)}()}),[Te]),Object(K.jsxs)(h.a,{style:{marginTop:100},children:[Object(K.jsx)(h.a,{maxWidth:\"xs\",style:{position:\"relative\"},children:Object(K.jsxs)(x.a,{style:{padding:24,paddingBottom:10,backgroundColor:\"#151A1F\",borderRadius:6},children:[we.connected?Object(K.jsxs)(K.Fragment,{children:[w&&Object(K.jsxs)(y.a,{container:!0,direction:\"row\",justifyContent:\"center\",wrap:\"nowrap\",children:[Object(K.jsxs)(y.a,{item:!0,xs:3,children:[Object(K.jsx)(j.a,{variant:\"body2\",color:\"textSecondary\",children:\"Remaining\"}),Object(K.jsx)(j.a,{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:\"bold\"},children:\"\".concat(X)})]}),Object(K.jsxs)(y.a,{item:!0,xs:4,children:[Object(K.jsx)(j.a,{variant:\"body2\",color:\"textSecondary\",children:te&&be?\"Discount Price\":\"Price\"}),Object(K.jsx)(j.a,{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:\"bold\"},children:\"\\u25ce \".concat(te&&be?T.c.asNumber(be):T.c.asNumber(w.state.price))})]}),Object(K.jsx)(y.a,{item:!0,xs:5,children:B&&q&&Date.now()<q.getTime()?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(R,{date:z(w),style:{justifyContent:\"flex-end\"},status:\"COMPLETED\",onComplete:Me},\"endSettings\"),Object(K.jsx)(j.a,{variant:\"caption\",align:\"center\",display:\"block\",style:{fontWeight:\"bold\"},children:\"TO END OF MINT\"})]}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(R,{date:z(w),style:{justifyContent:\"flex-end\"},status:null!==w&&void 0!==w&&null!==(t=w.state)&&void 0!==t&&t.isSoldOut||q&&Date.now()>q.getTime()?\"COMPLETED\":ie?\"PRESALE\":\"LIVE\",onComplete:Me},\"goLive\"),ie&&w.state.goLiveDate&&w.state.goLiveDate.toNumber()>(new Date).getTime()/1e3&&Object(K.jsx)(j.a,{variant:\"caption\",align:\"center\",display:\"block\",style:{fontWeight:\"bold\"},children:\"UNTIL PUBLIC MINT\"})]})})]}),Object(K.jsx)(H,{children:null!==w&&void 0!==w&&w.state.isActive&&null!==w&&void 0!==w&&w.state.gatekeeper&&we.publicKey&&we.signTransaction?Object(K.jsx)(N.GatewayProvider,{wallet:{publicKey:we.publicKey||new k.PublicKey(S.a),signTransaction:we.signTransaction},gatekeeperNetwork:null===w||void 0===w||null===(n=w.state)||void 0===n||null===(r=n.gatekeeper)||void 0===r?void 0:r.gatekeeperNetwork,clusterUrl:e.network===G.b.Devnet?\"https://api.devnet.solana.com\":Oe,handleTransaction:function(){var t=Object(l.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!0),!n.signatures.find((function(e){return e.publicKey.equals(we.publicKey)}))){t.next=17;break}return I({open:!0,message:\"Please sign one-time Civic Pass issuance\",severity:\"info\"}),t.prev=4,t.next=7,we.signTransaction(n);case 7:n=t.sent,t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(4),I({open:!0,message:\"User cancelled signing\",severity:\"error\"}),d(!1),t.t0;case 15:t.next=18;break;case 17:I({open:!0,message:\"Refreshing Civic Pass\",severity:\"info\"});case 18:return t.prev=18,t.next=21,Object(F.c)(e.connection,we,n,[],!0,\"confirmed\");case 21:I({open:!0,message:\"Please sign minting\",severity:\"info\"}),t.next=30;break;case 24:throw t.prev=24,t.t1=t.catch(18),I({open:!0,message:\"Solana dropped the transaction, please try again\",severity:\"warning\"}),console.error(t.t1),d(!1),t.t1;case 30:return t.next=32,Pe();case 32:case\"end\":return t.stop()}}),t,null,[[4,10],[18,24]])})));return function(e){return t.apply(this,arguments)}}(),broadcastTransaction:!1,options:{autoShowModal:!1},children:Object(K.jsx)(L,{candyMachine:w,isMinting:s,setIsMinting:function(e){return d(e)},onMint:Pe,isActive:B||ie&&te&&ue})}):Object(K.jsx)(L,{candyMachine:w,isMinting:s,setIsMinting:function(e){return d(e)},onMint:Pe,isActive:B||ie&&te&&ue})})]}):Object(K.jsx)(Y,{children:\"Connect Wallet\"}),Object(K.jsx)(j.a,{variant:\"caption\",align:\"center\",display:\"block\",style:{marginTop:7,color:\"grey\"},children:\"Powered by METAPLEX\"})]})}),Object(K.jsx)(m.a,{open:E.open,autoHideDuration:void 0===E.hideDuration?6e3:E.hideDuration,onClose:function(){return I(Object(u.a)(Object(u.a)({},E),{},{open:!1}))},children:Object(K.jsx)(v.a,{onClose:function(){return I(Object(u.a)(Object(u.a)({},E),{},{open:!1}))},severity:E.severity,children:E.message})})]})},V=n(369),J=n(370),Z=n(371),X=n(362),Q=n(363),$=n(365),ee=n(367),te=n(208),ne=n(364),re=Object(te.a)({palette:{type:\"dark\"}}),ae=function(){try{return new o.e.PublicKey(\"32Dhn984uwrHK2MoPnpotPMEad9NSEYP7gcnbAofxwNM\")}catch(e){return void console.log(\"Failed to construct CandyMachineId\",e)}}(),ie=\"mainnet-beta\",ce=\"https://api.metaplex.solana.com/\",se=new o.e.Connection(ce),oe=function(){var e=Object(a.useMemo)((function(){return Object(k.clusterApiUrl)(ie)}),[]),t=Object(a.useMemo)((function(){return[Object(V.a)(),Object(J.a)(),Object(Z.a)(),Object(X.a)({network:ie}),Object(Q.a)({network:ie})]}),[]);return Object(K.jsx)(ne.a,{theme:re,children:Object(K.jsx)($.a,{endpoint:e,children:Object(K.jsx)(ee.a,{wallets:t,autoConnect:!0,children:Object(K.jsx)(w.b,{children:Object(K.jsx)(q,{candyMachineId:ae,connection:se,txTimeout:F.a,rpcHost:ce,network:ie})})})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,373)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(317);s.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(oe,{})}),document.getElementById(\"root\")),ue()},48:function(e,t,n){\"use strict\";(function(e){n.d(t,\"g\",(function(){return u})),n.d(t,\"c\",(function(){return p})),n.d(t,\"b\",(function(){return d})),n.d(t,\"a\",(function(){return b})),n.d(t,\"d\",(function(){return f})),n.d(t,\"e\",(function(){return g})),n.d(t,\"f\",(function(){return h}));var r=n(3),a=n(1),i=n.n(a),c=n(23),s=n(30),o=n(25),u=function(e){if(e)return new Date(1e3*e.toNumber())},l=new Intl.NumberFormat(\"en-US\",{style:\"decimal\",minimumFractionDigits:2,maximumFractionDigits:2}),p={format:function(e){return e?l.format(e):\"--\"},asNumber:function(e){if(e)return e.toNumber()/o.LAMPORTS_PER_SOL}},d=new c.e.PublicKey(\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"),b=new c.e.PublicKey(\"gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs\"),f=function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),s.b.toBuffer(),t.toBuffer()],d);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from(\"expire\")],b);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from(\"gateway\"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],b);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(5).Buffer)},74:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l})),n.d(t,\"b\",(function(){return r})),n.d(t,\"d\",(function(){return d})),n.d(t,\"c\",(function(){return b}));var r,a=n(10),i=n(3),c=n(1),s=n.n(c),o=n(25),u=n(101),l=6e4,p=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,\"max\");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return r=e.sent,a=[],null!==r&&void 0!==r&&r.meta&&r.meta.logMessages&&r.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&a.push(t[1])})),e.abrupt(\"return\",a);case 8:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.Sequential=0]=\"Sequential\",e[e.Parallel=1]=\"Parallel\",e[e.StopOnFailure=2]=\"StopOnFailure\"}(r||(r={}));var d=function(){var e=Object(i.a)(s.a.mark((function e(t,n,i,c){var l,p,d,b,f,h,m,x,v,y,j,k,O,w,S,T,P,M,A=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=A.length>4&&void 0!==A[4]?A[4]:r.Parallel,p=A.length>5&&void 0!==A[5]?A[5]:\"singleGossip\",d=A.length>6&&void 0!==A[6]?A[6]:function(e,t){},b=A.length>7&&void 0!==A[7]?A[7]:function(e,t){return!1},f=A.length>8?A[8]:void 0,h=A.length>9&&void 0!==A[9]?A[9]:[],m=A.length>10&&void 0!==A[10]?A[10]:[],n.publicKey){e.next=9;break}throw new u.e;case 9:if(x=h,f){e.next=14;break}return e.next=13,t.getRecentBlockhash(p);case 13:f=e.sent;case 14:v=function(e){var t=i[e],r=c[e];if(0===t.length)return\"continue\";var s=new o.Transaction;t.forEach((function(e){return s.add(e)})),s.recentBlockhash=f.blockhash,s.setSigners.apply(s,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&s.partialSign.apply(s,Object(a.a)(r)),x.push(s)},y=0;case 16:if(!(y<i.length)){e.next=23;break}if(\"continue\"!==v(y)){e.next=20;break}return e.abrupt(\"continue\",20);case 20:y++,e.next=16;break;case 23:return x.push.apply(x,Object(a.a)(m)),j=x.filter((function(e){return e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),k=x.filter((function(e){return!e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),e.next=28,n.signAllTransactions(j);case 28:O=e.sent,O=k.concat(O),w=[],console.log(\"Signed txns length\",O.length,\"vs handed in length\",i.length),S=s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g({connection:t,signedTransaction:O[n]}),l===r.Parallel){e.next=22;break}return e.prev=2,e.next=5,a.then((function(e){var t=e.txid;e.slot;return d(t,n)}));case 5:w.push(a),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log(\"Failed at txn index:\",n),console.log(\"Caught failure:\",e.t0),b(O[n],n),l!==r.StopOnFailure){e.next=20;break}return e.t1=n,e.next=17,Promise.all(w);case 17:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt(\"return\",{v:e.t3});case 20:e.next=23;break;case 22:w.push(a);case 23:case\"end\":return e.stop()}}),e,null,[[2,8]])})),T=0;case 34:if(!(T<O.length)){e.next=42;break}return e.delegateYield(S(T),\"t0\",36);case 36:if(\"object\"!==typeof(P=e.t0)){e.next=39;break}return e.abrupt(\"return\",P.v);case 39:T++,e.next=34;break;case 42:if(l===r.Parallel){e.next=47;break}return e.next=45,Promise.all(w);case 45:return M=e.sent,e.abrupt(\"return\",{number:O.length,txs:M});case 47:return e.t1=O.length,e.next=50,Promise.all(w);case 50:return e.t2=e.sent,e.abrupt(\"return\",{number:e.t1,txs:e.t2});case 52:case\"end\":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(s.a.mark((function e(t,n,r,i){var c,d,b,f,g,h,m,x,y,j,k,O,w,S,T=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=!(T.length>4&&void 0!==T[4])||T[4],d=T.length>5&&void 0!==T[5]?T[5]:\"singleGossip\",b=T.length>6&&void 0!==T[6]&&T[6],f=T.length>7?T[7]:void 0,n.publicKey){e.next=6;break}throw new u.e;case 6:if(!(r instanceof o.Transaction)){e.next=10;break}g=r,e.next=24;break;case 10:if(g=new o.Transaction,r.forEach((function(e){return g.add(e)})),e.t0=f,e.t0){e.next=17;break}return e.next=16,t.getRecentBlockhash(d);case 16:e.t0=e.sent;case 17:if(g.recentBlockhash=e.t0.blockhash,b?(h=g).setSigners.apply(h,Object(a.a)(i.map((function(e){return e.publicKey})))):(m=g).setSigners.apply(m,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(x=g).partialSign.apply(x,Object(a.a)(i)),b){e.next=24;break}return e.next=23,n.signTransaction(g);case 23:g=e.sent;case 24:return y=g.serialize(),j={skipPreflight:!0,commitment:d},e.next=28,t.sendRawTransaction(y,j);case 28:if(k=e.sent,O=0,!c){e.next=43;break}return e.next=33,v(k,l,t,d);case 33:if(w=e.sent){e.next=36;break}throw new Error(\"Timed out awaiting confirmation on transaction\");case 36:if(O=(null===w||void 0===w?void 0:w.slot)||0,null===w||void 0===w||!w.err){e.next=43;break}return e.next=40,p(t,k);case 40:throw S=e.sent,console.log(S),new Error(\"Raw transaction \".concat(k,\" failed\"));case 43:return e.abrupt(\"return\",{txid:k,slot:O});case 44:case\"end\":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f=function(){return(new Date).getTime()/1e3};function g(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,o,u,p,d,b,g,h,x,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?l:a,o=n.serialize(),u=f(),p=0,e.next=6,r.sendRawTransaction(o,{skipPreflight:!0});case 6:return d=e.sent,console.log(\"Started awaiting confirmation for\",d),b=!1,Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b||!(f()-u<c)){e.next=6;break}return r.sendRawTransaction(o,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case\"end\":return e.stop()}}),e)})))(),e.prev=10,e.next=13,v(d,c,r,\"recent\",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error(\"Timed out awaiting confirmation on transaction\");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error(\"Transaction failed: Custom instruction error\");case 19:p=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error(\"Timeout Error caught\",e.t0),!e.t0.timeout){e.next=27;break}throw new Error(\"Timed out awaiting confirmation on transaction\");case 27:return h=null,e.prev=28,e.next=31,m(r,n,\"single\");case 31:h=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!h||!h.err){e.next=47;break}if(!h.logs){e.next=46;break}x=h.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(y=h.logs[x]).startsWith(\"Program log: \")){e.next=43;break}throw new Error(\"Transaction failed: \"+y.slice(\"Program log: \".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(h.err));case 47:return e.prev=47,b=!0,e.finish(47);case 50:return console.log(\"Latency\",d,f()-u),e.abrupt(\"return\",{txid:d,slot:p});case 52:case\"end\":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function m(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(s.a.mark((function e(t,n,r){var a,i,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString(\"base64\"),o=[c,{encoding:\"base64\",commitment:r}],e.next=10,t._rpcRequest(\"simulateTransaction\",o);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error(\"failed to simulate transaction: \"+u.error.message);case 13:return e.abrupt(\"return\",u.result);case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return y.apply(this,arguments)}function y(){return y=Object(i.a)(s.a.mark((function e(t,n,r){var a,c,o,u,l,p=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:\"recent\",c=p.length>4&&void 0!==p[4]&&p[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(i.a)(s.a.mark((function e(p,d){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log(\"Rejecting for timeout...\"),d({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){o=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log(\"Rejected via websocket\",e.err),d(u)):(console.log(\"Resolved via websocket\",e),p(u))}),a)}catch(b){o=!0,console.error(\"WS error in setup\",t,b)}case 2:if(o||!c){e.next=8;break}return Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],o||(u?u.err?(console.log(\"REST error for\",t,u),o=!0,d(u.err)):u.confirmations?(console.log(\"REST confirmation for\",t,u),o=!0,p(u)):console.log(\"REST no confirmations for\",t,u):console.log(\"REST null result for\",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log(\"REST connection error: txid\",t,e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),o=!0,console.log(\"Returning status\",u),e.abrupt(\"return\",u);case 12:case\"end\":return e.stop()}}),e)}))),y.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},85:function(e,t,n){\"use strict\";(function(e){n.d(t,\"a\",(function(){return d})),n.d(t,\"b\",(function(){return f})),n.d(t,\"d\",(function(){return h})),n.d(t,\"e\",(function(){return y})),n.d(t,\"c\",(function(){return k})),n.d(t,\"f\",(function(){return O}));var r=n(12),a=n(3),i=n(1),c=n.n(i),s=n(23),o=n(30),u=n(25),l=n(74),p=n(48),d=new s.e.PublicKey(\"cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ\"),b=new s.e.PublicKey(\"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\"),f=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var i,s,o,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]&&l[3],s=!1,o={slot:0,confirmations:0,err:null},u=0,e.next=6,new Promise(function(){var e=Object(a.a)(c.a.mark((function e(u,l){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log(\"Rejecting for timeout...\"),l({timeout:!0}))}),n);case 1:if(s||!i){e.next=7;break}return Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,o=n&&n.value[0],s||(o?o.err?(console.log(\"REST error for\",t,o),s=!0,l(o.err)):o.confirmations?(console.log(\"REST confirmation for\",t,o),s=!0,u(o)):console.log(\"REST no confirmations for\",t,o):console.log(\"REST null result for\",t,o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log(\"REST connection error: txid\",t,e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,w(2e3);case 5:e.next=1;break;case 7:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:return o=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),s=!0,console.log(\"Returning status\",o),e.abrupt(\"return\",o);case 11:case\"end\":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.e.TransactionInstruction({keys:i,programId:p.b,data:e.from([])})},h=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,i,o,u,l,p,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new s.c(r,t,{preflightCommitment:\"processed\"}),e.next=3,s.b.fetchIdl(d,a);case 3:return i=e.sent,o=new s.b(i,d,a),e.next=7,o.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),p=u.itemsRedeemed.toNumber(),b=l-p,e.abrupt(\"return\",{id:n,program:o,state:{authority:u.authority,itemsAvailable:l,itemsRedeemed:p,itemsRemaining:b,isSoldOut:0===b,isActive:!1,isPresale:!1,isWhitelistOnly:!1,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,gatekeeper:u.data.gatekeeper,endSettings:u.data.endSettings,whitelistMintSettings:u.data.whitelistMintSettings,hiddenSettings:u.data.hiddenSettings,price:u.data.price,retainAuthority:u.data.retainAuthority}});case 12:case\"end\":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from(\"metadata\"),b.toBuffer(),n.toBuffer(),e.from(\"edition\")],b);case 2:return t.abrupt(\"return\",t.sent[0]);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from(\"metadata\"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt(\"return\",t.sent[0]);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from(\"candy_machine\"),n.toBuffer()],d);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from(\"collection\"),n.toBuffer()],d);case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from(\"metadata\"),b.toBuffer(),n.toBuffer(),e.from(\"collection_authority\"),r.toBuffer()],b);case 2:return t.abrupt(\"return\",t.sent[0]);case 3:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.e.Keypair.generate(),e.next=3,Object(p.d)(r.publicKey,n);case 3:return a=e.sent[0],i=[r],e.t0=s.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=o.a.span,e.next=11,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 11:return e.t4=e.sent,e.t5=o.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=o.c.createInitMintInstruction(o.b,r.publicKey,0,n,n),e.t9=g(a,n,n,r.publicKey),e.t10=o.c.createMintToInstruction(o.b,r.publicKey,a,n,[],1),u=[e.t7,e.t8,e.t9,e.t10],e.t11=r,e.t12=a,e.next=23,Object(l.d)(t.program.provider.connection,t.program.provider.wallet,[u],[i],l.b.StopOnFailure,\"singleGossip\",(function(){}),(function(){return!1}),void 0,[],[]);case 23:return e.t13=e.sent.txs[0].txid,e.abrupt(\"return\",{mint:e.t11,userTokenAccount:e.t12,transaction:e.t13});case 25:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a,i,d,f,h,k,O,w,S,T,P,M,A,K,E,R,I,C,N,D,B,W,L,_,U,F,G,Y,H,z,q,V,J,Z,X=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X.length>2&&void 0!==X[2]?X[2]:[],d=X.length>3&&void 0!==X[3]?X[3]:[],f=X.length>4?X[4]:void 0,h=null!==(a=null===f||void 0===f?void 0:f.mint)&&void 0!==a?a:s.e.Keypair.generate(),e.next=6,Object(p.d)(h.publicKey,n);case 6:if(k=e.sent[0],!t.state.tokenMint){e.next=13;break}return e.next=10,Object(p.d)(t.state.tokenMint,n);case 10:e.t0=e.sent[0],e.next=14;break;case 13:e.t0=n;case 14:if(O=e.t0,w=t.id,S=[],T=[],P=[],M=[],console.log(\"SetupState: \",f),f){e.next=40;break}return M.push(h),e.t1=P.push,e.t2=P,e.t3=s.e.SystemProgram,e.t4=n,e.t5=h.publicKey,e.t6=o.a.span,e.next=31,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 31:e.t7=e.sent,e.t8=o.b,e.t9={fromPubkey:e.t4,newAccountPubkey:e.t5,space:e.t6,lamports:e.t7,programId:e.t8},e.t10=e.t3.createAccount.call(e.t3,e.t9),e.t11=o.c.createInitMintInstruction(o.b,h.publicKey,0,n,n),e.t12=g(k,n,n,h.publicKey),e.t13=o.c.createMintToInstruction(o.b,h.publicKey,k,n,[],1),e.t14=[e.t10,e.t11,e.t12,e.t13],e.t1.apply.call(e.t1,e.t2,e.t14);case 40:if(!t.state.gatekeeper){e.next=55;break}return e.t15=S,e.next=44,Object(p.f)(n,t.state.gatekeeper.gatekeeperNetwork);case 44:if(e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!0,isSigner:!1},e.t15.push.call(e.t15,e.t17),!t.state.gatekeeper.expireOnUse){e.next=55;break}return S.push({pubkey:p.a,isWritable:!1,isSigner:!1}),e.t18=S,e.next=52,Object(p.e)(t.state.gatekeeper.gatekeeperNetwork);case 52:e.t19=e.sent[0],e.t20={pubkey:e.t19,isWritable:!1,isSigner:!1},e.t18.push.call(e.t18,e.t20);case 55:if(!t.state.whitelistMintSettings){e.next=70;break}return A=new s.e.PublicKey(t.state.whitelistMintSettings.mint),e.next=59,Object(p.d)(A,n);case 59:if(K=e.sent[0],S.push({pubkey:K,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=70;break}return E=s.e.Keypair.generate(),S.push({pubkey:A,isWritable:!0,isSigner:!1}),S.push({pubkey:E.publicKey,isWritable:!1,isSigner:!0}),M.push(E),e.next=68,t.program.provider.connection.getAccountInfo(K);case 68:e.sent&&(P.push(o.c.createApproveInstruction(o.b,K,E.publicKey,n,[],1)),T.push(o.c.createRevokeInstruction(o.b,K,n,[])));case 70:return t.state.tokenMint&&(R=s.e.Keypair.generate(),M.push(R),S.push({pubkey:O,isWritable:!0,isSigner:!1}),S.push({pubkey:R.publicKey,isWritable:!1,isSigner:!0}),P.push(o.c.createApproveInstruction(o.b,O,R.publicKey,n,[],t.state.price.toNumber())),T.push(o.c.createRevokeInstruction(o.b,O,n,[]))),e.next=73,x(h.publicKey);case 73:return I=e.sent,e.next=76,m(h.publicKey);case 76:return C=e.sent,e.next=79,v(w);case 79:return N=e.sent,D=Object(r.a)(N,2),B=D[0],W=D[1],console.log(S.map((function(e){return e.pubkey.toBase58()}))),e.t21=P,e.next=87,t.program.instruction.mintNft(W,{accounts:{candyMachine:w,candyMachineCreator:B,payer:n,wallet:t.state.treasury,mint:h.publicKey,metadata:I,masterEdition:C,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:o.b,systemProgram:u.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY,clock:s.e.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:u.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:s.e.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:S.length>0?S:void 0});case 87:return e.t22=e.sent,e.t21.push.call(e.t21,e.t22),e.next=91,y(w);case 91:return L=e.sent,_=Object(r.a)(L,1),U=_[0],e.next=96,t.program.provider.connection.getAccountInfo(U);case 96:if(!e.sent||!t.state.retainAuthority){e.next=127;break}return e.prev=98,e.next=101,t.program.account.collectionPda.fetch(U);case 101:return F=e.sent,console.log(F),G=F.mint,e.next=106,j(G,U);case 106:if(Y=e.sent,console.log(G),!G){e.next=122;break}return e.next=111,x(G);case 111:return H=e.sent,e.next=114,m(G);case 114:return z=e.sent,console.log(\"Collection PDA: \",U.toBase58()),console.log(\"Authority: \",t.state.authority.toBase58()),e.t23=P,e.next=120,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:w,metadata:I,payer:n,collectionPda:U,tokenMetadataProgram:b,instructions:s.e.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:G,collectionMetadata:H,collectionMasterEdition:z,authority:t.state.authority,collectionAuthorityRecord:Y}});case 120:e.t24=e.sent,e.t23.push.call(e.t23,e.t24);case 122:e.next=127;break;case 124:e.prev=124,e.t25=e.catch(98),console.error(e.t25);case 127:return q=[P,T],V=[M,[]],e.prev=129,e.next=132,Object(l.d)(t.program.provider.connection,t.program.provider.wallet,q,V,l.b.StopOnFailure,\"singleGossip\",(function(){}),(function(){return!1}),void 0,i,d);case 132:return J=e.sent.txs.map((function(e){return e.txid})),Z=J[0],e.abrupt(\"return\",{mintTxId:Z,metadataKey:I});case 137:e.prev=137,e.t26=e.catch(129),console.log(e.t26);case 140:return e.abrupt(\"return\",null);case 141:case\"end\":return e.stop()}}),e,null,[[98,124],[129,137]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(5).Buffer)}},[[318,1,2]]]);","name":"static/js/main.e6beb62d.chunk.js","map":{"version":3,"sources":["static/js/main.e6beb62d.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","react","react_default","n","react_dom","react_dom_default","esm","objectSpread2","asyncToGenerator","slicedToArray","taggedTemplateLiteral","regenerator","regenerator_default","styled_components_browser_esm","Container","Snackbar","Paper","Alert","Grid","Typography","index_browser_esm","useWallet","lib","candy_machine","utils","index_es","makeStyles","createStyles","jsx_runtime","useStyles","Object","theme","root","display","padding","spacing","margin","width","height","flexDirection","alignContent","alignItems","justifyContent","background","color","borderRadius","fontSize","done","marginBottom","fontWeight","item","MintCountdown_MintCountdown","_ref","date","status","style","onComplete","classes","renderer","_ref2","days","hours","minutes","seconds","completed","className","children","elevation","concat","Button","CircularProgress","dist_esm","useConnection","dist","CTAButton","MintButton_MintButton","onMint","candyMachine","isMinting","setIsMinting","isActive","wallet","connection","_useState","_useState2","verified","setVerified","_useGateway","requestGatewayToken","gatewayStatus","_useState3","_useState4","webSocketSubscriptionId","setWebSocketSubscriptionId","_useState5","_useState6","clicked","setClicked","mint","a","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","previousGatewayStatus","value","ref","current","usePrevious","fromStates","NOT_REQUESTED","REFRESH_TOKEN_REQUIRED","invalidToStates","UNKNOWN","find","state","console","log","disabled","onClick","_callee2","network","gatewayToken","gatewayTokenAddress","_context2","gatekeeper","gatekeeperNetwork","toBase58","ACTIVE","publicKey","sent","isValid","window","open","Error","variant","isSoldOut","isPresale","isWhitelistOnly","Home_templateObject","_templateObject2","src_connection","adapter","ConnectButton","MintContainer","div","Home_getCountdownDate","_candyMachine$state$e","endSettings","endSettingType","number","goLiveDate","Date","getTime","undefined","src_Home","props","_candyMachine$state","_candyMachine$state2","_candyMachine$state2$","isUserMinting","setIsUserMinting","setCandyMachine","message","severity","alertState","setAlertState","_useState7","_useState8","setIsActive","_useState9","_useState10","endDate","setEndDate","_useState11","_useState12","itemsRemaining","setItemsRemaining","_useState13","_useState14","isWhitelistUser","setIsWhitelistUser","_useState15","_useState16","setIsPresale","_useState17","_useState18","isValidBalance","setIsValidBalance","_useState19","_useState20","discountPrice","setDiscountPrice","_useState21","_useState22","needTxnSplit","setNeedTxnSplit","_useState23","_useState24","setupTxn","setSetupTxn","rpcUrl","rpcHost","anchorWallet","signAllTransactions","signTransaction","refreshCandyMachineState","commitment","_cndy$state$goLiveDat","_cndy$state$endSettin","_cndy$state$endSettin2","_cndy$state$whitelist","_cndy$state$whitelist2","_cndy$state$gatekeepe","cndy","active","presale","isWLUser","userPrice","token","balance","_mint","_token","_balance","valid","_balance2","_valid","limit","_yield$getCollectionP","_yield$getCollectionP2","collectionPDA","collectionPDAAccount","txnEstimate","_args","length","abrupt","candyMachineId","toNumber","price","whitelistMintSettings","PublicKey","getTokenAccountBalance","parseInt","amount","t0","tokenMint","gte","t1","t2","getBalance","t3","Math","min","itemsAvailable","itemsRedeemed","getAccountInfo","retainAuthority","mode","burnEveryTime","expireOnUse","t4","hideDuration","startsWith","beforeTransactions","afterTransactions","_document$getElementB","_setupMint","setupMint","_status","mintResult","metadataStatus","remaining","_args2","document","getElementById","click","connected","program","err","transaction","txTimeout","mintTxId","provider","metadataKey","msg","code","location","reload","indexOf","finish","toggleMintButton","now","loop","setTimeout","marginTop","maxWidth","position","paddingBottom","backgroundColor","container","direction","xs","asNumber","align","clusterUrl","Devnet","handleTransaction","_ref3","_callee3","_context3","signatures","sig","equals","error","_x","broadcastTransaction","options","autoShowModal","val","autoHideDuration","onClose","phantom","solflare","slope","sollet","solletExtension","ConnectionProvider","WalletProvider","createTheme","ThemeProvider","App_theme","palette","type","e","App_getCandyMachineId","App_network","App_connection","Connection","src_App_0","endpoint","wallets","autoConnect","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","Buffer","d","toDate","formatNumber","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","CIVIC","getAtaForMint","getNetworkExpire","getNetworkToken","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default","_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__","_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__","_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__","numberFormater","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","buyer","findProgramAddress","toBuffer","_x2","from","_x3","_x4","_x5","call","DEFAULT_TIMEOUT","SequenceType","sendTransactions","sendTransaction","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default","_solana_web3_js__WEBPACK_IMPORTED_MODULE_3__","_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__","getErrorForTransaction","txid","tx","errors","confirmTransaction","getParsedConfirmedTransaction","meta","logMessages","forEach","m","regex","exec","index","lastIndex","instructionSet","signersSet","sequenceType","successCallback","failCallback","block","unsignedTxns","_loop","i","partiallySignedTransactions","fullySignedTransactions","signedTxns","pendingTxns","_loop2","_i","_ret2","result","_args3","Parallel","ind","getRecentBlockhash","instructions","signers","instruction","add","recentBlockhash","blockhash","setSigners","map","s","partialSign","filter","t","signedTxnPromise","sendSignedTransaction","signedTransaction","slot","StopOnFailure","Promise","all","txs","v","delegateYield","_x7","_x8","_x9","_x10","_ref4","awaitConfirmation","includesFeePayer","_transaction","_transaction2","_transaction3","rawTransaction","confirmation","_args4","_context4","serialize","skipPreflight","sendRawTransaction","awaitTransactionSignatureConfirmation","_x11","_x12","_x13","_x14","getUnixTs","_x19","_sendSignedTransaction","_callee7","_ref6","_ref6$timeout","timeout","startTime","simulateResult","line","_context8","_callee6","_context7","sleep","simulateTransaction","logs","slice","JSON","stringify","_x20","_x21","_x22","_simulateTransaction","_callee8","signData","wireTransaction","encodedTransaction","args","res","_context9","_recentBlockhash","_disableBlockhashCaching","serializeMessage","_serialize","toString","encoding","_rpcRequest","_x23","_x24","_x25","_awaitTransactionSignatureConfirmation","_callee11","queryStatus","subId","_args12","_context12","confirmations","_ref8","_callee10","resolve","reject","_context11","onSignature","context","_callee9","signatureStatuses","_context10","getSignatureStatuses","_x26","_x27","_signatureSubscriptions","removeSignatureListener","ms","CANDY_MACHINE_PROGRAM","getCandyMachineState","getCollectionPDA","createAccountsForMint","mintOneToken","C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__","_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__","_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__","_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__","_connection__WEBPACK_IMPORTED_MODULE_6__","_utils__WEBPACK_IMPORTED_MODULE_7__","TOKEN_METADATA_PROGRAM_ID","createAssociatedTokenAccountInstruction","associatedTokenAddress","payer","walletAddress","splTokenMintAddress","keys","pubkey","isSigner","isWritable","SystemProgram","programId","SYSVAR_RENT_PUBKEY","TransactionInstruction","data","_callee4","idl","preflightCommitment","fetchIdl","account","fetch","id","authority","treasury","hiddenSettings","_x6","getMasterEdition","_ref5","_callee5","_context5","getMetadata","_context6","getCandyMachineCreator","_ref7","candyMachineAddress","getCollectionAuthorityRecordPDA","_ref9","newAuthority","_ref10","userTokenAccountAddress","Keypair","generate","span","getMinimumBalanceForRentExemption","t5","t6","fromPubkey","newAccountPubkey","space","lamports","t7","createAccount","t8","createInitMintInstruction","t9","t10","createMintToInstruction","t11","t12","t13","userTokenAccount","_x15","_x16","_ref11","_setupState$mint","setupState","userPayingAccountAddress","remainingAccounts","cleanupInstructions","whitelistToken","whitelistBurnAuthority","transferAuthority","metadataAddress","masterEdition","_yield$getCandyMachin","_yield$getCandyMachin2","candyMachineCreator","creatorBump","collectionData","collectionMint","collectionAuthorityRecord","collectionMetadata","collectionMasterEdition","instructionsMatrix","signersMatrix","txns","mintTxn","_args11","t14","t15","t16","t17","t18","t19","t20","createApproveInstruction","createRevokeInstruction","rm","t21","mintNft","accounts","metadata","mintAuthority","updateAuthority","tokenMetadataProgram","tokenProgram","systemProgram","rent","clock","SYSVAR_CLOCK_PUBKEY","recentBlockhashes","instructionSysvarAccount","SYSVAR_INSTRUCTIONS_PUBKEY","t22","collectionPda","t23","setCollectionDuringMint","t24","t25","t26","_x17","_x18"],"mappings":"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"},"input":"(this[\"webpackJsonpcandy-machine-mint\"] = this[\"webpackJsonpcandy-machine-mint\"] || []).push([[0],{\n\n/***/ 225:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 226:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 250:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(4);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(31);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(225);\n\n// EXTERNAL MODULE: ./node_modules/@project-serum/anchor/dist/esm/index.js + 17 modules\nvar esm = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(358);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js + 2 modules\nvar Snackbar = __webpack_require__(368);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(353);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Alert/Alert.js + 5 modules\nvar Alert = __webpack_require__(366);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(359);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(354);\n\n// EXTERNAL MODULE: ./node_modules/@solana/web3.js/lib/index.browser.esm.js\nvar index_browser_esm = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-react/lib/useWallet.js\nvar useWallet = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-material-ui/lib/index.js + 29 modules\nvar lib = __webpack_require__(140);\n\n// EXTERNAL MODULE: ./src/candy-machine.ts\nvar candy_machine = __webpack_require__(85);\n\n// EXTERNAL MODULE: ./src/utils.ts\nvar utils = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/react-countdown/dist/index.es.js\nvar index_es = __webpack_require__(202);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(349);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createStyles.js + 1 modules\nvar createStyles = __webpack_require__(372);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/MintCountdown.tsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return Object(createStyles[\"a\" /* default */])({root:{display:'flex',padding:theme.spacing(0),'& > *':{margin:theme.spacing(0.4),width:theme.spacing(6),height:theme.spacing(6),display:'flex',flexDirection:'column',alignContent:'center',alignItems:'center',justifyContent:'center',background:'#384457',color:'white',borderRadius:5,fontSize:10}},done:{display:'flex',margin:0,marginBottom:theme.spacing(0.5),height:theme.spacing(3.5),padding:theme.spacing(1),flexDirection:'column',alignContent:'center',alignItems:'center',justifyContent:'center',background:'#384457',color:'white',borderRadius:5,fontWeight:'bold',fontSize:18},item:{fontWeight:'bold',fontSize:18}});});var MintCountdown_MintCountdown=function MintCountdown(_ref){var date=_ref.date,status=_ref.status,style=_ref.style,onComplete=_ref.onComplete;var classes=useStyles();var renderCountdown=function renderCountdown(_ref2){var days=_ref2.days,hours=_ref2.hours,minutes=_ref2.minutes,seconds=_ref2.seconds,completed=_ref2.completed;hours+=days*24;if(completed){return status?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classes.done,children:status}):null;}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.root,style:style,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classes.item,children:hours<10?\"0\".concat(hours):hours}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"hrs\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classes.item,children:minutes<10?\"0\".concat(minutes):minutes}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"mins\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classes.item,children:seconds<10?\"0\".concat(seconds):seconds}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"secs\"})]})]});}};if(date){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* default */],{date:date,onComplete:onComplete,renderer:renderCountdown});}else{return null;}};\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(351);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\nvar CircularProgress = __webpack_require__(357);\n\n// EXTERNAL MODULE: ./node_modules/@civic/solana-gateway-react/dist/esm/index.js\nvar dist_esm = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-react/lib/useConnection.js\nvar useConnection = __webpack_require__(206);\n\n// EXTERNAL MODULE: ./node_modules/@identity.com/solana-gateway-ts/dist/index.js\nvar dist = __webpack_require__(112);\n\n// CONCATENATED MODULE: ./src/MintButton.tsx\nvar _templateObject;var CTAButton=Object(styled_components_browser_esm[\"default\"])(Button[\"a\" /* default */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));// add your own styles here\nvar MintButton_MintButton=function MintButton(_ref){var onMint=_ref.onMint,candyMachine=_ref.candyMachine,isMinting=_ref.isMinting,setIsMinting=_ref.setIsMinting,isActive=_ref.isActive;var wallet=Object(useWallet[\"b\" /* useWallet */])();var connection=Object(useConnection[\"b\" /* useConnection */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),verified=_useState2[0],setVerified=_useState2[1];var _useGateway=Object(dist_esm[\"useGateway\"])(),requestGatewayToken=_useGateway.requestGatewayToken,gatewayStatus=_useGateway.gatewayStatus;var _useState3=Object(react[\"useState\"])(-1),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),webSocketSubscriptionId=_useState4[0],setWebSocketSubscriptionId=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),clicked=_useState6[0],setClicked=_useState6[1];var getMintButtonContent=function getMintButtonContent(){if(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isSoldOut){return'SOLD OUT';}else if(isMinting){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */],{});}else if(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isPresale||candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isWhitelistOnly){return'WHITELIST MINT';}return'MINT';};Object(react[\"useEffect\"])(function(){var mint=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(dist[\"removeAccountChangeListener\"])(connection.connection,webSocketSubscriptionId);case 2:_context.next=4;return onMint();case 4:setClicked(false);setVerified(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function mint(){return _ref2.apply(this,arguments);};}();if(verified&&clicked){mint();}},[verified,clicked,connection.connection,onMint,webSocketSubscriptionId]);var previousGatewayStatus=usePrevious(gatewayStatus);Object(react[\"useEffect\"])(function(){var fromStates=[dist_esm[\"GatewayStatus\"].NOT_REQUESTED,dist_esm[\"GatewayStatus\"].REFRESH_TOKEN_REQUIRED];var invalidToStates=[].concat(fromStates,[dist_esm[\"GatewayStatus\"].UNKNOWN]);if(fromStates.find(function(state){return previousGatewayStatus===state;})&&!invalidToStates.find(function(state){return gatewayStatus===state;})){setIsMinting(true);}console.log('change: ',gatewayStatus);},[setIsMinting,previousGatewayStatus,gatewayStatus]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CTAButton,{disabled:isMinting||!isActive,onClick:/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var network,gatewayToken,gatewayTokenAddress;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isActive&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.gatekeeper)){_context2.next=34;break;}network=candyMachine.state.gatekeeper.gatekeeperNetwork.toBase58();if(!(network==='ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6')){_context2.next=13;break;}if(!(gatewayStatus===dist_esm[\"GatewayStatus\"].ACTIVE)){_context2.next=8;break;}_context2.next=6;return onMint();case 6:_context2.next=11;break;case 8:_context2.next=10;return requestGatewayToken();case 10:console.log('after: ',gatewayStatus);case 11:_context2.next=32;break;case 13:if(!(network==='ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE'||network==='tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt')){_context2.next=30;break;}setClicked(true);_context2.next=17;return Object(dist[\"findGatewayToken\"])(connection.connection,wallet.publicKey,candyMachine.state.gatekeeper.gatekeeperNetwork);case 17:gatewayToken=_context2.sent;if(!(gatewayToken!==null&&gatewayToken!==void 0&&gatewayToken.isValid())){_context2.next=23;break;}_context2.next=21;return onMint();case 21:_context2.next=28;break;case 23:window.open(\"https://verify.encore.fans/?gkNetwork=\".concat(network),'_blank');_context2.next=26;return Object(dist[\"getGatewayTokenAddressForOwnerAndGatekeeperNetwork\"])(wallet.publicKey,candyMachine.state.gatekeeper.gatekeeperNetwork);case 26:gatewayTokenAddress=_context2.sent;setWebSocketSubscriptionId(Object(dist[\"onGatewayTokenChange\"])(connection.connection,gatewayTokenAddress,function(){return setVerified(true);},'confirmed'));case 28:_context2.next=32;break;case 30:setClicked(false);throw new Error(\"Unknown Gatekeeper Network: \".concat(network));case 32:_context2.next=37;break;case 34:_context2.next=36;return onMint();case 36:setClicked(false);case 37:case\"end\":return _context2.stop();}}},_callee2);})),variant:\"contained\",children:getMintButtonContent()});};function usePrevious(value){var ref=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){ref.current=value;},[value]);return ref.current;}\n// EXTERNAL MODULE: ./src/connection.tsx\nvar src_connection = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-base/lib/adapter.js\nvar adapter = __webpack_require__(207);\n\n// CONCATENATED MODULE: ./src/Home.tsx\nvar Home_templateObject,_templateObject2;var ConnectButton=Object(styled_components_browser_esm[\"default\"])(lib[\"a\" /* WalletDialogButton */])(Home_templateObject||(Home_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));var MintContainer=styled_components_browser_esm[\"default\"].div(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));// add your owns styles here\nvar Home_Home=function Home(props){var _candyMachine$state,_candyMachine$state2,_candyMachine$state2$;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isUserMinting=_useState2[0],setIsUserMinting=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),candyMachine=_useState4[0],setCandyMachine=_useState4[1];var _useState5=Object(react[\"useState\"])({open:false,message:'',severity:undefined}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),alertState=_useState6[0],setAlertState=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isActive=_useState8[0],setIsActive=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),endDate=_useState10[0],setEndDate=_useState10[1];var _useState11=Object(react[\"useState\"])(),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),itemsRemaining=_useState12[0],setItemsRemaining=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),isWhitelistUser=_useState14[0],setIsWhitelistUser=_useState14[1];var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),isPresale=_useState16[0],setIsPresale=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),isValidBalance=_useState18[0],setIsValidBalance=_useState18[1];var _useState19=Object(react[\"useState\"])(),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),discountPrice=_useState20[0],setDiscountPrice=_useState20[1];var _useState21=Object(react[\"useState\"])(true),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),needTxnSplit=_useState22[0],setNeedTxnSplit=_useState22[1];var _useState23=Object(react[\"useState\"])(),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),setupTxn=_useState24[0],setSetupTxn=_useState24[1];var rpcUrl=props.rpcHost;var wallet=Object(useWallet[\"b\" /* useWallet */])();var anchorWallet=Object(react[\"useMemo\"])(function(){if(!wallet||!wallet.publicKey||!wallet.signAllTransactions||!wallet.signTransaction){return;}return{publicKey:wallet.publicKey,signAllTransactions:wallet.signAllTransactions,signTransaction:wallet.signTransaction};},[wallet]);var refreshCandyMachineState=Object(react[\"useCallback\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var commitment,connection,_cndy$state$goLiveDat,_cndy$state$endSettin,_cndy$state$endSettin2,_cndy$state$whitelist,_cndy$state$whitelist2,_cndy$state$gatekeepe,cndy,active,presale,isWLUser,userPrice,mint,token,balance,_mint,_token,_balance,valid,_balance2,_valid,limit,_yield$getCollectionP,_yield$getCollectionP2,collectionPDA,collectionPDAAccount,txnEstimate,_args=arguments;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:commitment=_args.length>0&&_args[0]!==undefined?_args[0]:'confirmed';if(anchorWallet){_context.next=3;break;}return _context.abrupt(\"return\");case 3:connection=new index_browser_esm[\"Connection\"](props.rpcHost,commitment);if(!props.candyMachineId){_context.next=90;break;}_context.prev=5;_context.next=8;return Object(candy_machine[\"d\" /* getCandyMachineState */])(anchorWallet,props.candyMachineId,connection);case 8:cndy=_context.sent;active=(cndy===null||cndy===void 0?void 0:(_cndy$state$goLiveDat=cndy.state.goLiveDate)===null||_cndy$state$goLiveDat===void 0?void 0:_cndy$state$goLiveDat.toNumber())<new Date().getTime()/1000;presale=false;// duplication of state to make sure we have the right values!\nisWLUser=false;userPrice=cndy.state.price;// whitelist mint?\nif(!(cndy!==null&&cndy!==void 0&&cndy.state.whitelistMintSettings)){_context.next=35;break;}// is it a presale mint?\nif(cndy.state.whitelistMintSettings.presale&&(!cndy.state.goLiveDate||cndy.state.goLiveDate.toNumber()>new Date().getTime()/1000)){presale=true;}// is there a discount?\nif(cndy.state.whitelistMintSettings.discountPrice){setDiscountPrice(cndy.state.whitelistMintSettings.discountPrice);userPrice=cndy.state.whitelistMintSettings.discountPrice;}else{setDiscountPrice(undefined);// when presale=false and discountPrice=null, mint is restricted\n// to whitelist users only\nif(!cndy.state.whitelistMintSettings.presale){cndy.state.isWhitelistOnly=true;}}// retrieves the whitelist token\nmint=new esm[\"e\" /* web3 */].PublicKey(cndy.state.whitelistMintSettings.mint);_context.next=19;return Object(utils[\"d\" /* getAtaForMint */])(mint,anchorWallet.publicKey);case 19:token=_context.sent[0];_context.prev=20;_context.next=23;return connection.getTokenAccountBalance(token);case 23:balance=_context.sent;isWLUser=parseInt(balance.value.amount)>0;// only whitelist the user if the balance > 0\nsetIsWhitelistUser(isWLUser);if(cndy.state.isWhitelistOnly){active=isWLUser&&(presale||active);}_context.next=35;break;case 29:_context.prev=29;_context.t0=_context[\"catch\"](20);setIsWhitelistUser(false);// no whitelist user, no mint\nif(cndy.state.isWhitelistOnly){active=false;}console.log('There was a problem fetching whitelist token balance');console.log(_context.t0);case 35:userPrice=isWLUser?userPrice:cndy.state.price;if(!(cndy!==null&&cndy!==void 0&&cndy.state.tokenMint)){_context.next=58;break;}// retrieves the SPL token\n_mint=new esm[\"e\" /* web3 */].PublicKey(cndy.state.tokenMint);_context.next=40;return Object(utils[\"d\" /* getAtaForMint */])(_mint,anchorWallet.publicKey);case 40:_token=_context.sent[0];_context.prev=41;_context.next=44;return connection.getTokenAccountBalance(_token);case 44:_balance=_context.sent;valid=new esm[\"a\" /* BN */](_balance.value.amount).gte(userPrice);// only allow user to mint if token balance >  the user if the balance > 0\nsetIsValidBalance(valid);active=active&&valid;_context.next=56;break;case 50:_context.prev=50;_context.t1=_context[\"catch\"](41);setIsValidBalance(false);active=false;// no whitelist user, no mint\nconsole.log('There was a problem fetching SPL token balance');console.log(_context.t1);case 56:_context.next=66;break;case 58:_context.t2=esm[\"a\" /* BN */];_context.next=61;return connection.getBalance(anchorWallet.publicKey);case 61:_context.t3=_context.sent;_balance2=new _context.t2(_context.t3);_valid=_balance2.gte(userPrice);setIsValidBalance(_valid);active=active&&_valid;case 66:// datetime to stop the mint?\nif(cndy!==null&&cndy!==void 0&&(_cndy$state$endSettin=cndy.state.endSettings)!==null&&_cndy$state$endSettin!==void 0&&_cndy$state$endSettin.endSettingType.date){setEndDate(Object(utils[\"g\" /* toDate */])(cndy.state.endSettings.number));if(cndy.state.endSettings.number.toNumber()<new Date().getTime()/1000){active=false;}}// amount to stop the mint?\nif(cndy!==null&&cndy!==void 0&&(_cndy$state$endSettin2=cndy.state.endSettings)!==null&&_cndy$state$endSettin2!==void 0&&_cndy$state$endSettin2.endSettingType.amount){limit=Math.min(cndy.state.endSettings.number.toNumber(),cndy.state.itemsAvailable);if(cndy.state.itemsRedeemed<limit){setItemsRemaining(limit-cndy.state.itemsRedeemed);}else{setItemsRemaining(0);cndy.state.isSoldOut=true;}}else{setItemsRemaining(cndy.state.itemsRemaining);}if(cndy.state.isSoldOut){active=false;}_context.next=71;return Object(candy_machine[\"e\" /* getCollectionPDA */])(props.candyMachineId);case 71:_yield$getCollectionP=_context.sent;_yield$getCollectionP2=Object(slicedToArray[\"a\" /* default */])(_yield$getCollectionP,1);collectionPDA=_yield$getCollectionP2[0];_context.next=76;return connection.getAccountInfo(collectionPDA);case 76:collectionPDAAccount=_context.sent;setIsActive(cndy.state.isActive=active);setIsPresale(cndy.state.isPresale=presale);setCandyMachine(cndy);txnEstimate=892+(!!collectionPDAAccount&&cndy.state.retainAuthority?182:0)+(cndy.state.tokenMint?177:0)+(cndy.state.whitelistMintSettings?33:0)+((_cndy$state$whitelist=cndy.state.whitelistMintSettings)!==null&&_cndy$state$whitelist!==void 0&&(_cndy$state$whitelist2=_cndy$state$whitelist.mode)!==null&&_cndy$state$whitelist2!==void 0&&_cndy$state$whitelist2.burnEveryTime?145:0)+(cndy.state.gatekeeper?33:0)+((_cndy$state$gatekeepe=cndy.state.gatekeeper)!==null&&_cndy$state$gatekeepe!==void 0&&_cndy$state$gatekeepe.expireOnUse?66:0);setNeedTxnSplit(txnEstimate>1230);_context.next=88;break;case 84:_context.prev=84;_context.t4=_context[\"catch\"](5);if(_context.t4 instanceof Error){if(_context.t4.message===\"Account does not exist \".concat(props.candyMachineId)){setAlertState({open:true,message:\"Couldn't fetch candy machine state from candy machine with address: \".concat(props.candyMachineId,\", using rpc: \").concat(props.rpcHost,\"! You probably typed the REACT_APP_CANDY_MACHINE_ID value in wrong in your .env file, or you are using the wrong RPC!\"),severity:'error',hideDuration:null});}else if(_context.t4.message.startsWith('failed to get info about account')){setAlertState({open:true,message:\"Couldn't fetch candy machine state with rpc: \".concat(props.rpcHost,\"! This probably means you have an issue with the REACT_APP_SOLANA_RPC_HOST value in your .env file, or you are not using a custom RPC!\"),severity:'error',hideDuration:null});}}else{setAlertState({open:true,message:\"\".concat(_context.t4),severity:'error',hideDuration:null});}console.log(_context.t4);case 88:_context.next=91;break;case 90:setAlertState({open:true,message:\"Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!\",severity:'error',hideDuration:null});case 91:case\"end\":return _context.stop();}}},_callee,null,[[5,84],[20,29],[41,50]]);})),[anchorWallet,props.candyMachineId,props.rpcHost]);var onMint=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var beforeTransactions,afterTransactions,_document$getElementB,_setupMint,setupMint,_status,mintResult,status,metadataStatus,remaining,message,_args2=arguments;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:beforeTransactions=_args2.length>0&&_args2[0]!==undefined?_args2[0]:[];afterTransactions=_args2.length>1&&_args2[1]!==undefined?_args2[1]:[];_context2.prev=2;setIsUserMinting(true);(_document$getElementB=document.getElementById('#identity'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();if(!(wallet.connected&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.program&&wallet.publicKey)){_context2.next=41;break;}if(!(needTxnSplit&&setupTxn===undefined)){_context2.next=26;break;}setAlertState({open:true,message:'Please sign account setup transaction',severity:'info'});_context2.next=10;return Object(candy_machine[\"c\" /* createAccountsForMint */])(candyMachine,wallet.publicKey);case 10:setupMint=_context2.sent;_status={err:true};if(!setupMint.transaction){_context2.next=16;break;}_context2.next=15;return Object(candy_machine[\"b\" /* awaitTransactionSignatureConfirmation */])(setupMint.transaction,props.txTimeout,props.connection,true);case 15:_status=_context2.sent;case 16:if(!(_status&&!_status.err)){_context2.next=21;break;}setSetupTxn(setupMint);setAlertState({open:true,message:'Setup transaction succeeded! Please sign minting transaction',severity:'info'});_context2.next=24;break;case 21:setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});setIsUserMinting(false);return _context2.abrupt(\"return\");case 24:_context2.next=27;break;case 26:setAlertState({open:true,message:'Please sign minting transaction',severity:'info'});case 27:_context2.next=29;return Object(candy_machine[\"f\" /* mintOneToken */])(candyMachine,wallet.publicKey,beforeTransactions,afterTransactions,(_setupMint=setupMint)!==null&&_setupMint!==void 0?_setupMint:setupTxn);case 29:mintResult=_context2.sent;status={err:true};metadataStatus=null;if(!mintResult){_context2.next=40;break;}_context2.next=35;return Object(candy_machine[\"b\" /* awaitTransactionSignatureConfirmation */])(mintResult.mintTxId,props.txTimeout,props.connection,true);case 35:status=_context2.sent;_context2.next=38;return candyMachine.program.provider.connection.getAccountInfo(mintResult.metadataKey,'processed');case 38:metadataStatus=_context2.sent;console.log('Metadata status: ',!!metadataStatus);case 40:if(status&&!status.err&&metadataStatus){// manual update since the refresh might not detect\n// the change immediately\nremaining=itemsRemaining-1;setItemsRemaining(remaining);setIsActive(candyMachine.state.isActive=remaining>0);candyMachine.state.isSoldOut=remaining===0;setSetupTxn(undefined);setAlertState({open:true,message:'Congratulations! Mint succeeded!',severity:'success',hideDuration:7000});refreshCandyMachineState('processed');}else if(status&&!status.err){setAlertState({open:true,message:'Mint likely failed! Anti-bot SOL 0.01 fee potentially charged! Check the explorer to confirm the mint failed and if so, make sure you are eligible to mint before trying again.',severity:'error',hideDuration:8000});refreshCandyMachineState();}else{setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});refreshCandyMachineState();}case 41:_context2.next=49;break;case 43:_context2.prev=43;_context2.t0=_context2[\"catch\"](2);message=_context2.t0.msg||'Minting failed! Please try again!';if(!_context2.t0.msg){if(!_context2.t0.message){message='Transaction timeout! Please try again.';}else if(_context2.t0.message.indexOf('0x137')){console.log(_context2.t0);message=\"SOLD OUT!\";}else if(_context2.t0.message.indexOf('0x135')){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context2.t0.code===311){console.log(_context2.t0);message=\"SOLD OUT!\";window.location.reload();}else if(_context2.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:'error'});// updates the candy machine state to reflect the latest\n// information on chain\nrefreshCandyMachineState();case 49:_context2.prev=49;setIsUserMinting(false);return _context2.finish(49);case 52:case\"end\":return _context2.stop();}}},_callee2,null,[[2,43,49,52]]);}));return function onMint(){return _ref2.apply(this,arguments);};}();var toggleMintButton=function toggleMintButton(){var active=!isActive||isPresale;if(active){if(candyMachine.state.isWhitelistOnly&&!isWhitelistUser){active=false;}if(endDate&&Date.now()>=endDate.getTime()){active=false;}}if(isPresale&&candyMachine.state.goLiveDate&&candyMachine.state.goLiveDate.toNumber()<=new Date().getTime()/1000){setIsPresale(candyMachine.state.isPresale=false);}setIsActive(candyMachine.state.isActive=active);};Object(react[\"useEffect\"])(function(){refreshCandyMachineState();},[anchorWallet,props.candyMachineId,props.connection,refreshCandyMachineState]);Object(react[\"useEffect\"])(function(){(function loop(){setTimeout(function(){refreshCandyMachineState();loop();},20000);})();},[refreshCandyMachineState]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{style:{marginTop:100},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{maxWidth:\"xs\",style:{position:'relative'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{style:{padding:24,paddingBottom:10,backgroundColor:'#151A1F',borderRadius:6},children:[!wallet.connected?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConnectButton,{children:\"Connect Wallet\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[candyMachine&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,direction:\"row\",justifyContent:\"center\",wrap:\"nowrap\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",color:\"textSecondary\",children:\"Remaining\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:'bold'},children:\"\".concat(itemsRemaining)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:4,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"body2\",color:\"textSecondary\",children:isWhitelistUser&&discountPrice?'Discount Price':'Price'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:'bold'},children:isWhitelistUser&&discountPrice?\"\\u25CE \".concat(utils[\"c\" /* formatNumber */].asNumber(discountPrice)):\"\\u25CE \".concat(utils[\"c\" /* formatNumber */].asNumber(candyMachine.state.price))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:5,children:isActive&&endDate&&Date.now()<endDate.getTime()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintCountdown_MintCountdown,{date:Home_getCountdownDate(candyMachine),style:{justifyContent:'flex-end'},status:\"COMPLETED\",onComplete:toggleMintButton},\"endSettings\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"caption\",align:\"center\",display:\"block\",style:{fontWeight:'bold'},children:\"TO END OF MINT\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintCountdown_MintCountdown,{date:Home_getCountdownDate(candyMachine),style:{justifyContent:'flex-end'},status:candyMachine!==null&&candyMachine!==void 0&&(_candyMachine$state=candyMachine.state)!==null&&_candyMachine$state!==void 0&&_candyMachine$state.isSoldOut||endDate&&Date.now()>endDate.getTime()?'COMPLETED':isPresale?'PRESALE':'LIVE',onComplete:toggleMintButton},\"goLive\"),isPresale&&candyMachine.state.goLiveDate&&candyMachine.state.goLiveDate.toNumber()>new Date().getTime()/1000&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"caption\",align:\"center\",display:\"block\",style:{fontWeight:'bold'},children:\"UNTIL PUBLIC MINT\"})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintContainer,{children:candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isActive&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.gatekeeper&&wallet.publicKey&&wallet.signTransaction?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_esm[\"GatewayProvider\"],{wallet:{publicKey:wallet.publicKey||new index_browser_esm[\"PublicKey\"](candy_machine[\"a\" /* CANDY_MACHINE_PROGRAM */]),//@ts-ignore\nsignTransaction:wallet.signTransaction},gatekeeperNetwork:candyMachine===null||candyMachine===void 0?void 0:(_candyMachine$state2=candyMachine.state)===null||_candyMachine$state2===void 0?void 0:(_candyMachine$state2$=_candyMachine$state2.gatekeeper)===null||_candyMachine$state2$===void 0?void 0:_candyMachine$state2$.gatekeeperNetwork,clusterUrl:props.network===adapter[\"b\" /* WalletAdapterNetwork */].Devnet?'https://api.devnet.solana.com':rpcUrl,handleTransaction:/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(transaction){var userMustSign;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIsUserMinting(true);userMustSign=transaction.signatures.find(function(sig){return sig.publicKey.equals(wallet.publicKey);});if(!userMustSign){_context3.next=17;break;}setAlertState({open:true,message:'Please sign one-time Civic Pass issuance',severity:'info'});_context3.prev=4;_context3.next=7;return wallet.signTransaction(transaction);case 7:transaction=_context3.sent;_context3.next=15;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](4);setAlertState({open:true,message:'User cancelled signing',severity:'error'});// setTimeout(() => window.location.reload(), 2000);\nsetIsUserMinting(false);throw _context3.t0;case 15:_context3.next=18;break;case 17:setAlertState({open:true,message:'Refreshing Civic Pass',severity:'info'});case 18:_context3.prev=18;_context3.next=21;return Object(src_connection[\"c\" /* sendTransaction */])(props.connection,wallet,transaction,[],true,'confirmed');case 21:setAlertState({open:true,message:'Please sign minting',severity:'info'});_context3.next=30;break;case 24:_context3.prev=24;_context3.t1=_context3[\"catch\"](18);setAlertState({open:true,message:'Solana dropped the transaction, please try again',severity:'warning'});console.error(_context3.t1);// setTimeout(() => window.location.reload(), 2000);\nsetIsUserMinting(false);throw _context3.t1;case 30:_context3.next=32;return onMint();case 32:case\"end\":return _context3.stop();}}},_callee3,null,[[4,10],[18,24]]);}));return function(_x){return _ref3.apply(this,arguments);};}(),broadcastTransaction:false,options:{autoShowModal:false},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintButton_MintButton,{candyMachine:candyMachine,isMinting:isUserMinting,setIsMinting:function setIsMinting(val){return setIsUserMinting(val);},onMint:onMint,isActive:isActive||isPresale&&isWhitelistUser&&isValidBalance})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MintButton_MintButton,{candyMachine:candyMachine,isMinting:isUserMinting,setIsMinting:function setIsMinting(val){return setIsUserMinting(val);},onMint:onMint,isActive:isActive||isPresale&&isWhitelistUser&&isValidBalance})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"caption\",align:\"center\",display:\"block\",style:{marginTop:7,color:'grey'},children:\"Powered by METAPLEX\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{open:alertState.open,autoHideDuration:alertState.hideDuration===undefined?6000:alertState.hideDuration,onClose:function onClose(){return setAlertState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},alertState),{},{open:false}));},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{onClose:function onClose(){return setAlertState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};var Home_getCountdownDate=function getCountdownDate(candyMachine){var _candyMachine$state$e;if(candyMachine.state.isActive&&(_candyMachine$state$e=candyMachine.state.endSettings)!==null&&_candyMachine$state$e!==void 0&&_candyMachine$state$e.endSettingType.date){return Object(utils[\"g\" /* toDate */])(candyMachine.state.endSettings.number);}return Object(utils[\"g\" /* toDate */])(candyMachine.state.goLiveDate?candyMachine.state.goLiveDate:candyMachine.state.isPresale?new esm[\"a\" /* BN */](new Date().getTime()/1000):undefined);};/* harmony default export */ var src_Home = (Home_Home);\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/phantom.js + 1 modules\nvar phantom = __webpack_require__(369);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/solflare.js + 1 modules\nvar solflare = __webpack_require__(370);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/slope.js + 1 modules\nvar slope = __webpack_require__(371);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/sollet.js\nvar sollet = __webpack_require__(362);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-wallets/lib/solletExtension.js\nvar solletExtension = __webpack_require__(363);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-react/lib/ConnectionProvider.js\nvar ConnectionProvider = __webpack_require__(365);\n\n// EXTERNAL MODULE: ./node_modules/@solana/wallet-adapter-react/lib/WalletProvider.js + 2 modules\nvar WalletProvider = __webpack_require__(367);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createTheme.js + 19 modules\nvar createTheme = __webpack_require__(208);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(364);\n\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_theme=Object(createTheme[\"a\" /* default */])({palette:{type:'dark'}});var App_getCandyMachineId=function getCandyMachineId(){try{var _candyMachineId=new esm[\"e\" /* web3 */].PublicKey(\"32Dhn984uwrHK2MoPnpotPMEad9NSEYP7gcnbAofxwNM\");return _candyMachineId;}catch(e){console.log('Failed to construct CandyMachineId',e);return undefined;}};var candyMachineId=App_getCandyMachineId();var App_network=\"mainnet-beta\";var rpcHost=\"https://api.metaplex.solana.com/\";var App_connection=new esm[\"e\" /* web3 */].Connection(rpcHost?rpcHost:esm[\"e\" /* web3 */].clusterApiUrl('devnet'));var App_App=function App(){var endpoint=Object(react[\"useMemo\"])(function(){return Object(index_browser_esm[\"clusterApiUrl\"])(App_network);},[]);var wallets=Object(react[\"useMemo\"])(function(){return[Object(phantom[\"a\" /* getPhantomWallet */])(),Object(solflare[\"a\" /* getSolflareWallet */])(),Object(slope[\"a\" /* getSlopeWallet */])(),Object(sollet[\"a\" /* getSolletWallet */])({network:App_network}),Object(solletExtension[\"a\" /* getSolletExtensionWallet */])({network:App_network})];},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeProvider[\"a\" /* default */],{theme:App_theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ConnectionProvider[\"a\" /* ConnectionProvider */],{endpoint:endpoint,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WalletProvider[\"a\" /* WalletProvider */],{wallets:wallets,autoConnect:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"b\" /* WalletDialogProvider */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Home,{candyMachineId:candyMachineId,connection:App_connection,txTimeout:src_connection[\"a\" /* DEFAULT_TIMEOUT */],rpcHost:rpcHost,network:App_network})})})})});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 373)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(317);\n\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return toDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return formatNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CIVIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getAtaForMint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getNetworkExpire; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getNetworkToken; });\n/* unused harmony export createAssociatedTokenAccountInstruction */\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);\n/* harmony import */ var _solana_spl_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(25);\nvar toDate=function toDate(value){if(!value){return;}return new Date(value.toNumber()*1000);};var numberFormater=new Intl.NumberFormat('en-US',{style:'decimal',minimumFractionDigits:2,maximumFractionDigits:2});var formatNumber={format:function format(val){if(!val){return'--';}return numberFormater.format(val);},asNumber:function asNumber(val){if(!val){return undefined;}return val.toNumber()/_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__[\"LAMPORTS_PER_SOL\"];}};var SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"e\"].PublicKey('ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL');var CIVIC=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"e\"].PublicKey('gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs');var getAtaForMint=/*#__PURE__*/function(){var _ref=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(mint,buyer){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"e\"].PublicKey.findProgramAddress([buyer.toBuffer(),_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"].toBuffer(),mint.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function getAtaForMint(_x,_x2){return _ref.apply(this,arguments);};}();var getNetworkExpire=/*#__PURE__*/function(){var _ref2=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(gatekeeperNetwork){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"e\"].PublicKey.findProgramAddress([gatekeeperNetwork.toBuffer(),Buffer.from('expire')],CIVIC);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function getNetworkExpire(_x3){return _ref2.apply(this,arguments);};}();var getNetworkToken=/*#__PURE__*/function(){var _ref3=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(wallet,gatekeeperNetwork){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__[/* web3 */ \"e\"].PublicKey.findProgramAddress([wallet.toBuffer(),Buffer.from('gateway'),Buffer.from([0,0,0,0,0,0,0,0]),gatekeeperNetwork.toBuffer()],CIVIC);case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function getNetworkToken(_x4,_x5){return _ref3.apply(this,arguments);};}();function createAssociatedTokenAccountInstruction(associatedTokenAddress,payer,walletAddress,splTokenMintAddress){var keys=[{pubkey:payer,isSigner:true,isWritable:true},{pubkey:associatedTokenAddress,isSigner:false,isWritable:true},{pubkey:walletAddress,isSigner:false,isWritable:false},{pubkey:splTokenMintAddress,isSigner:false,isWritable:false},{pubkey:_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__[\"SystemProgram\"].programId,isSigner:false,isWritable:false},{pubkey:_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__[/* TOKEN_PROGRAM_ID */ \"b\"],isSigner:false,isWritable:false},{pubkey:_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__[\"SYSVAR_RENT_PUBKEY\"],isSigner:false,isWritable:false}];return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__[\"TransactionInstruction\"]({keys:keys,programId:SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:Buffer.from([])});}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(5).Buffer))\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DEFAULT_TIMEOUT; });\n/* unused harmony export getErrorForTransaction */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SequenceType; });\n/* unused harmony export sendTransactionsWithManualRetry */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return sendTransactions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return sendTransaction; });\n/* unused harmony export sendTransactionWithRetry */\n/* unused harmony export getUnixTs */\n/* unused harmony export sendSignedTransaction */\n/* unused harmony export sleep */\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(25);\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(101);\nvar DEFAULT_TIMEOUT=60000;var getErrorForTransaction=/*#__PURE__*/function(){var _ref=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(connection,txid){var tx,errors;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return connection.confirmTransaction(txid,'max');case 2:_context.next=4;return connection.getParsedConfirmedTransaction(txid);case 4:tx=_context.sent;errors=[];if(tx!==null&&tx!==void 0&&tx.meta&&tx.meta.logMessages){tx.meta.logMessages.forEach(function(log){var regex=/Error: (.*)/gm;var m;while((m=regex.exec(log))!==null){// This is necessary to avoid infinite loops with zero-width matches\nif(m.index===regex.lastIndex){regex.lastIndex++;}if(m.length>1){errors.push(m[1]);}}});}return _context.abrupt(\"return\",errors);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getErrorForTransaction(_x,_x2){return _ref.apply(this,arguments);};}();var SequenceType;(function(SequenceType){SequenceType[SequenceType[\"Sequential\"]=0]=\"Sequential\";SequenceType[SequenceType[\"Parallel\"]=1]=\"Parallel\";SequenceType[SequenceType[\"StopOnFailure\"]=2]=\"StopOnFailure\";})(SequenceType||(SequenceType={}));function sendTransactionsWithManualRetry(_x3,_x4,_x5,_x6){return _sendTransactionsWithManualRetry.apply(this,arguments);}function _sendTransactionsWithManualRetry(){_sendTransactionsWithManualRetry=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee5(connection,wallet,instructions,signers){var stopPoint,tries,lastInstructionsLength,toRemoveSigners,ids,filteredSigners,id,_yield$sendTransactio,txs;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:stopPoint=0;tries=0;lastInstructionsLength=null;toRemoveSigners={};instructions=instructions.filter(function(instr,i){if(instr.length>0){return true;}else{toRemoveSigners[i]=true;return false;}});ids=[];filteredSigners=signers.filter(function(_,i){return!toRemoveSigners[i];});case 7:if(!(stopPoint<instructions.length&&tries<3)){_context6.next=34;break;}instructions=instructions.slice(stopPoint,instructions.length);filteredSigners=filteredSigners.slice(stopPoint,filteredSigners.length);if(instructions.length===lastInstructionsLength)tries=tries+1;else tries=0;_context6.prev=11;if(!(instructions.length===1)){_context6.next=20;break;}_context6.next=15;return sendTransactionWithRetry(connection,wallet,instructions[0],filteredSigners[0],'single');case 15:id=_context6.sent;ids.push(id.txid);stopPoint=1;_context6.next=25;break;case 20:_context6.next=22;return sendTransactions(connection,wallet,instructions,filteredSigners,SequenceType.StopOnFailure,'single');case 22:_yield$sendTransactio=_context6.sent;txs=_yield$sendTransactio.txs;ids=ids.concat(txs.map(function(t){return t.txid;}));case 25:_context6.next=30;break;case 27:_context6.prev=27;_context6.t0=_context6[\"catch\"](11);console.error(_context6.t0);case 30:console.log('Died on ',stopPoint,'retrying from instruction',instructions[stopPoint],'instructions length is',instructions.length);lastInstructionsLength=instructions.length;_context6.next=7;break;case 34:return _context6.abrupt(\"return\",ids);case 35:case\"end\":return _context6.stop();}}},_callee5,null,[[11,27]]);}));return _sendTransactionsWithManualRetry.apply(this,arguments);}var sendTransactions=/*#__PURE__*/function(){var _ref2=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(connection,wallet,instructionSet,signersSet){var sequenceType,commitment,successCallback,failCallback,block,beforeTransactions,afterTransactions,unsignedTxns,_loop,i,_ret,partiallySignedTransactions,fullySignedTransactions,signedTxns,pendingTxns,_loop2,_i,_ret2,result,_args3=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:sequenceType=_args3.length>4&&_args3[4]!==undefined?_args3[4]:SequenceType.Parallel;commitment=_args3.length>5&&_args3[5]!==undefined?_args3[5]:'singleGossip';successCallback=_args3.length>6&&_args3[6]!==undefined?_args3[6]:function(txid,ind){};failCallback=_args3.length>7&&_args3[7]!==undefined?_args3[7]:function(txid,ind){return false;};block=_args3.length>8?_args3[8]:undefined;beforeTransactions=_args3.length>9&&_args3[9]!==undefined?_args3[9]:[];afterTransactions=_args3.length>10&&_args3[10]!==undefined?_args3[10]:[];if(wallet.publicKey){_context3.next=9;break;}throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__[/* WalletNotConnectedError */ \"e\"]();case 9:unsignedTxns=beforeTransactions;if(block){_context3.next=14;break;}_context3.next=13;return connection.getRecentBlockhash(commitment);case 13:block=_context3.sent;case 14:_loop=function _loop(i){var instructions=instructionSet[i];var signers=signersSet[i];if(instructions.length===0){return\"continue\";}var transaction=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__[\"Transaction\"]();instructions.forEach(function(instruction){return transaction.add(instruction);});transaction.recentBlockhash=block.blockhash;transaction.setSigners.apply(transaction,[// fee payed by the wallet owner\nwallet.publicKey].concat(Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers.map(function(s){return s.publicKey;}))));if(signers.length>0){transaction.partialSign.apply(transaction,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers));}unsignedTxns.push(transaction);};i=0;case 16:if(!(i<instructionSet.length)){_context3.next=23;break;}_ret=_loop(i);if(!(_ret===\"continue\")){_context3.next=20;break;}return _context3.abrupt(\"continue\",20);case 20:i++;_context3.next=16;break;case 23:unsignedTxns.push.apply(unsignedTxns,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(afterTransactions));partiallySignedTransactions=unsignedTxns.filter(function(t){return t.signatures.find(function(sig){return sig.publicKey.equals(wallet.publicKey);});});fullySignedTransactions=unsignedTxns.filter(function(t){return!t.signatures.find(function(sig){return sig.publicKey.equals(wallet.publicKey);});});_context3.next=28;return wallet.signAllTransactions(partiallySignedTransactions);case 28:signedTxns=_context3.sent;signedTxns=fullySignedTransactions.concat(signedTxns);pendingTxns=[];console.log('Signed txns length',signedTxns.length,'vs handed in length',instructionSet.length);_loop2=/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _loop2(_i){var signedTxnPromise;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _loop2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:signedTxnPromise=sendSignedTransaction({connection:connection,signedTransaction:signedTxns[_i]});if(!(sequenceType!==SequenceType.Parallel)){_context2.next=22;break;}_context2.prev=2;_context2.next=5;return signedTxnPromise.then(function(_ref3){var txid=_ref3.txid,slot=_ref3.slot;return successCallback(txid,_i);});case 5:pendingTxns.push(signedTxnPromise);_context2.next=20;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](2);console.log('Failed at txn index:',_i);console.log('Caught failure:',_context2.t0);failCallback(signedTxns[_i],_i);if(!(sequenceType===SequenceType.StopOnFailure)){_context2.next=20;break;}_context2.t1=_i;_context2.next=17;return Promise.all(pendingTxns);case 17:_context2.t2=_context2.sent;_context2.t3={number:_context2.t1,txs:_context2.t2};return _context2.abrupt(\"return\",{v:_context2.t3});case 20:_context2.next=23;break;case 22:pendingTxns.push(signedTxnPromise);case 23:case\"end\":return _context2.stop();}}},_loop2,null,[[2,8]]);});_i=0;case 34:if(!(_i<signedTxns.length)){_context3.next=42;break;}return _context3.delegateYield(_loop2(_i),\"t0\",36);case 36:_ret2=_context3.t0;if(!(typeof _ret2===\"object\")){_context3.next=39;break;}return _context3.abrupt(\"return\",_ret2.v);case 39:_i++;_context3.next=34;break;case 42:if(!(sequenceType!==SequenceType.Parallel)){_context3.next=47;break;}_context3.next=45;return Promise.all(pendingTxns);case 45:result=_context3.sent;return _context3.abrupt(\"return\",{number:signedTxns.length,txs:result});case 47:_context3.t1=signedTxns.length;_context3.next=50;return Promise.all(pendingTxns);case 50:_context3.t2=_context3.sent;return _context3.abrupt(\"return\",{number:_context3.t1,txs:_context3.t2});case 52:case\"end\":return _context3.stop();}}},_callee2);}));return function sendTransactions(_x7,_x8,_x9,_x10){return _ref2.apply(this,arguments);};}();var sendTransaction=/*#__PURE__*/function(){var _ref4=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(connection,wallet,instructions,signers){var awaitConfirmation,commitment,includesFeePayer,block,transaction,_transaction,_transaction2,_transaction3,rawTransaction,options,txid,slot,confirmation,errors,_args4=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:awaitConfirmation=_args4.length>4&&_args4[4]!==undefined?_args4[4]:true;commitment=_args4.length>5&&_args4[5]!==undefined?_args4[5]:'singleGossip';includesFeePayer=_args4.length>6&&_args4[6]!==undefined?_args4[6]:false;block=_args4.length>7?_args4[7]:undefined;if(wallet.publicKey){_context4.next=6;break;}throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__[/* WalletNotConnectedError */ \"e\"]();case 6:if(!(instructions instanceof _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__[\"Transaction\"])){_context4.next=10;break;}transaction=instructions;_context4.next=24;break;case 10:transaction=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__[\"Transaction\"]();instructions.forEach(function(instruction){return transaction.add(instruction);});_context4.t0=block;if(_context4.t0){_context4.next=17;break;}_context4.next=16;return connection.getRecentBlockhash(commitment);case 16:_context4.t0=_context4.sent;case 17:transaction.recentBlockhash=_context4.t0.blockhash;if(includesFeePayer){(_transaction=transaction).setSigners.apply(_transaction,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers.map(function(s){return s.publicKey;})));}else{(_transaction2=transaction).setSigners.apply(_transaction2,[// fee payed by the wallet owner\nwallet.publicKey].concat(Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers.map(function(s){return s.publicKey;}))));}if(signers.length>0){(_transaction3=transaction).partialSign.apply(_transaction3,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers));}if(includesFeePayer){_context4.next=24;break;}_context4.next=23;return wallet.signTransaction(transaction);case 23:transaction=_context4.sent;case 24:rawTransaction=transaction.serialize();options={skipPreflight:true,commitment:commitment};_context4.next=28;return connection.sendRawTransaction(rawTransaction,options);case 28:txid=_context4.sent;slot=0;if(!awaitConfirmation){_context4.next=43;break;}_context4.next=33;return awaitTransactionSignatureConfirmation(txid,DEFAULT_TIMEOUT,connection,commitment);case 33:confirmation=_context4.sent;if(confirmation){_context4.next=36;break;}throw new Error('Timed out awaiting confirmation on transaction');case 36:slot=(confirmation===null||confirmation===void 0?void 0:confirmation.slot)||0;if(!(confirmation!==null&&confirmation!==void 0&&confirmation.err)){_context4.next=43;break;}_context4.next=40;return getErrorForTransaction(connection,txid);case 40:errors=_context4.sent;console.log(errors);throw new Error(\"Raw transaction \".concat(txid,\" failed\"));case 43:return _context4.abrupt(\"return\",{txid:txid,slot:slot});case 44:case\"end\":return _context4.stop();}}},_callee3);}));return function sendTransaction(_x11,_x12,_x13,_x14){return _ref4.apply(this,arguments);};}();var sendTransactionWithRetry=/*#__PURE__*/function(){var _ref5=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee4(connection,wallet,instructions,signers){var commitment,includesFeePayer,block,beforeSend,transaction,_transaction4,_transaction5,_transaction6,_yield$sendSignedTran,txid,slot,_args5=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:commitment=_args5.length>4&&_args5[4]!==undefined?_args5[4]:'singleGossip';includesFeePayer=_args5.length>5&&_args5[5]!==undefined?_args5[5]:false;block=_args5.length>6?_args5[6]:undefined;beforeSend=_args5.length>7?_args5[7]:undefined;if(wallet.publicKey){_context5.next=6;break;}throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__[/* WalletNotConnectedError */ \"e\"]();case 6:transaction=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__[\"Transaction\"]();instructions.forEach(function(instruction){return transaction.add(instruction);});_context5.t0=block;if(_context5.t0){_context5.next=13;break;}_context5.next=12;return connection.getRecentBlockhash(commitment);case 12:_context5.t0=_context5.sent;case 13:transaction.recentBlockhash=_context5.t0.blockhash;if(includesFeePayer){(_transaction4=transaction).setSigners.apply(_transaction4,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers.map(function(s){return s.publicKey;})));}else{(_transaction5=transaction).setSigners.apply(_transaction5,[// fee payed by the wallet owner\nwallet.publicKey].concat(Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers.map(function(s){return s.publicKey;}))));}if(signers.length>0){(_transaction6=transaction).partialSign.apply(_transaction6,Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(signers));}if(includesFeePayer){_context5.next=20;break;}_context5.next=19;return wallet.signTransaction(transaction);case 19:transaction=_context5.sent;case 20:if(beforeSend){beforeSend();}_context5.next=23;return sendSignedTransaction({connection:connection,signedTransaction:transaction});case 23:_yield$sendSignedTran=_context5.sent;txid=_yield$sendSignedTran.txid;slot=_yield$sendSignedTran.slot;return _context5.abrupt(\"return\",{txid:txid,slot:slot});case 27:case\"end\":return _context5.stop();}}},_callee4);}));return function sendTransactionWithRetry(_x15,_x16,_x17,_x18){return _ref5.apply(this,arguments);};}();var getUnixTs=function getUnixTs(){return new Date().getTime()/1000;};function sendSignedTransaction(_x19){return _sendSignedTransaction.apply(this,arguments);}function _sendSignedTransaction(){_sendSignedTransaction=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee7(_ref6){var signedTransaction,connection,_ref6$timeout,timeout,rawTransaction,startTime,slot,txid,done,confirmation,simulateResult,i,line;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:signedTransaction=_ref6.signedTransaction,connection=_ref6.connection,_ref6$timeout=_ref6.timeout,timeout=_ref6$timeout===void 0?DEFAULT_TIMEOUT:_ref6$timeout;rawTransaction=signedTransaction.serialize();startTime=getUnixTs();slot=0;_context8.next=6;return connection.sendRawTransaction(rawTransaction,{skipPreflight:true});case 6:txid=_context8.sent;console.log('Started awaiting confirmation for',txid);done=false;Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee6(){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!done&&getUnixTs()-startTime<timeout)){_context7.next=6;break;}connection.sendRawTransaction(rawTransaction,{skipPreflight:true});_context7.next=4;return sleep(500);case 4:_context7.next=0;break;case 6:case\"end\":return _context7.stop();}}},_callee6);}))();_context8.prev=10;_context8.next=13;return awaitTransactionSignatureConfirmation(txid,timeout,connection,'recent',true);case 13:confirmation=_context8.sent;if(confirmation){_context8.next=16;break;}throw new Error('Timed out awaiting confirmation on transaction');case 16:if(!confirmation.err){_context8.next=19;break;}console.error(confirmation.err);throw new Error('Transaction failed: Custom instruction error');case 19:slot=(confirmation===null||confirmation===void 0?void 0:confirmation.slot)||0;_context8.next=47;break;case 22:_context8.prev=22;_context8.t0=_context8[\"catch\"](10);console.error('Timeout Error caught',_context8.t0);if(!_context8.t0.timeout){_context8.next=27;break;}throw new Error('Timed out awaiting confirmation on transaction');case 27:simulateResult=null;_context8.prev=28;_context8.next=31;return simulateTransaction(connection,signedTransaction,'single');case 31:simulateResult=_context8.sent.value;_context8.next=36;break;case 34:_context8.prev=34;_context8.t1=_context8[\"catch\"](28);case 36:if(!(simulateResult&&simulateResult.err)){_context8.next=47;break;}if(!simulateResult.logs){_context8.next=46;break;}i=simulateResult.logs.length-1;case 39:if(!(i>=0)){_context8.next=46;break;}line=simulateResult.logs[i];if(!line.startsWith('Program log: ')){_context8.next=43;break;}throw new Error('Transaction failed: '+line.slice('Program log: '.length));case 43:--i;_context8.next=39;break;case 46:throw new Error(JSON.stringify(simulateResult.err));case 47:_context8.prev=47;done=true;return _context8.finish(47);case 50:console.log('Latency',txid,getUnixTs()-startTime);return _context8.abrupt(\"return\",{txid:txid,slot:slot});case 52:case\"end\":return _context8.stop();}}},_callee7,null,[[10,22,47,50],[28,34]]);}));return _sendSignedTransaction.apply(this,arguments);}function simulateTransaction(_x20,_x21,_x22){return _simulateTransaction.apply(this,arguments);}function _simulateTransaction(){_simulateTransaction=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee8(connection,transaction,commitment){var signData,wireTransaction,encodedTransaction,config,args,res;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return connection._recentBlockhash(// @ts-ignore\nconnection._disableBlockhashCaching);case 2:transaction.recentBlockhash=_context9.sent;signData=transaction.serializeMessage();// @ts-ignore\nwireTransaction=transaction._serialize(signData);encodedTransaction=wireTransaction.toString('base64');config={encoding:'base64',commitment:commitment};args=[encodedTransaction,config];// @ts-ignore\n_context9.next=10;return connection._rpcRequest('simulateTransaction',args);case 10:res=_context9.sent;if(!res.error){_context9.next=13;break;}throw new Error('failed to simulate transaction: '+res.error.message);case 13:return _context9.abrupt(\"return\",res.result);case 14:case\"end\":return _context9.stop();}}},_callee8);}));return _simulateTransaction.apply(this,arguments);}function awaitTransactionSignatureConfirmation(_x23,_x24,_x25){return _awaitTransactionSignatureConfirmation.apply(this,arguments);}function _awaitTransactionSignatureConfirmation(){_awaitTransactionSignatureConfirmation=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee11(txid,timeout,connection){var commitment,queryStatus,done,status,subId,_args12=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:commitment=_args12.length>3&&_args12[3]!==undefined?_args12[3]:'recent';queryStatus=_args12.length>4&&_args12[4]!==undefined?_args12[4]:false;done=false;status={slot:0,confirmations:0,err:null};subId=0;_context12.next=7;return new Promise(/*#__PURE__*/function(){var _ref8=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee10(resolve,reject){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:setTimeout(function(){if(done){return;}done=true;console.log('Rejecting for timeout...');reject({timeout:true});},timeout);try{subId=connection.onSignature(txid,function(result,context){done=true;status={err:result.err,slot:context.slot,confirmations:0};if(result.err){console.log('Rejected via websocket',result.err);reject(status);}else{console.log('Resolved via websocket',result);resolve(status);}},commitment);}catch(e){done=true;console.error('WS error in setup',txid,e);}case 2:if(!(!done&&queryStatus)){_context11.next=8;break;}// eslint-disable-next-line no-loop-func\nObject(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee9(){var signatureStatuses;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee9$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return connection.getSignatureStatuses([txid]);case 3:signatureStatuses=_context10.sent;status=signatureStatuses&&signatureStatuses.value[0];if(!done){if(!status){console.log('REST null result for',txid,status);}else if(status.err){console.log('REST error for',txid,status);done=true;reject(status.err);}else if(!status.confirmations){console.log('REST no confirmations for',txid,status);}else{console.log('REST confirmation for',txid,status);done=true;resolve(status);}}_context10.next=11;break;case 8:_context10.prev=8;_context10.t0=_context10[\"catch\"](0);if(!done){console.log('REST connection error: txid',txid,_context10.t0);}case 11:case\"end\":return _context10.stop();}}},_callee9,null,[[0,8]]);}))();_context11.next=6;return sleep(2000);case 6:_context11.next=2;break;case 8:case\"end\":return _context11.stop();}}},_callee10);}));return function(_x26,_x27){return _ref8.apply(this,arguments);};}());case 7:status=_context12.sent;//@ts-ignore\nif(connection._signatureSubscriptions[subId])connection.removeSignatureListener(subId);done=true;console.log('Returning status',status);return _context12.abrupt(\"return\",status);case 12:case\"end\":return _context12.stop();}}},_callee11);}));return _awaitTransactionSignatureConfirmation.apply(this,arguments);}function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CANDY_MACHINE_PROGRAM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return awaitTransactionSignatureConfirmation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getCandyMachineState; });\n/* unused harmony export getCandyMachineCreator */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getCollectionPDA; });\n/* unused harmony export getCollectionAuthorityRecordPDA */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return createAccountsForMint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return mintOneToken; });\n/* unused harmony export shortenAddress */\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23);\n/* harmony import */ var _solana_spl_token__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(30);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25);\n/* harmony import */ var _connection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(74);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48);\nvar CANDY_MACHINE_PROGRAM=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey('cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ');var TOKEN_METADATA_PROGRAM_ID=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey('metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s');var awaitTransactionSignatureConfirmation=/*#__PURE__*/function(){var _ref=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(txid,timeout,connection){var queryStatus,done,status,subId,_args3=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:queryStatus=_args3.length>3&&_args3[3]!==undefined?_args3[3]:false;done=false;status={slot:0,confirmations:0,err:null};subId=0;_context3.next=6;return new Promise(/*#__PURE__*/function(){var _ref2=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(resolve,reject){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setTimeout(function(){if(done){return;}done=true;console.log('Rejecting for timeout...');reject({timeout:true});},timeout);case 1:if(!(!done&&queryStatus)){_context2.next=7;break;}// eslint-disable-next-line no-loop-func\nObject(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(){var signatureStatuses;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return connection.getSignatureStatuses([txid]);case 3:signatureStatuses=_context.sent;status=signatureStatuses&&signatureStatuses.value[0];if(!done){if(!status){console.log('REST null result for',txid,status);}else if(status.err){console.log('REST error for',txid,status);done=true;reject(status.err);}else if(!status.confirmations){console.log('REST no confirmations for',txid,status);}else{console.log('REST confirmation for',txid,status);done=true;resolve(status);}}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!done){console.log('REST connection error: txid',txid,_context.t0);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();_context2.next=5;return sleep(2000);case 5:_context2.next=1;break;case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4,_x5){return _ref2.apply(this,arguments);};}());case 6:status=_context3.sent;//@ts-ignore\nif(connection._signatureSubscriptions[subId]){connection.removeSignatureListener(subId);}done=true;console.log('Returning status',status);return _context3.abrupt(\"return\",status);case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function awaitTransactionSignatureConfirmation(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var createAssociatedTokenAccountInstruction=function createAssociatedTokenAccountInstruction(associatedTokenAddress,payer,walletAddress,splTokenMintAddress){var keys=[{pubkey:payer,isSigner:true,isWritable:true},{pubkey:associatedTokenAddress,isSigner:false,isWritable:true},{pubkey:walletAddress,isSigner:false,isWritable:false},{pubkey:splTokenMintAddress,isSigner:false,isWritable:false},{pubkey:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SystemProgram.programId,isSigner:false,isWritable:false},{pubkey:_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],isSigner:false,isWritable:false},{pubkey:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SYSVAR_RENT_PUBKEY,isSigner:false,isWritable:false}];return new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].TransactionInstruction({keys:keys,programId:_utils__WEBPACK_IMPORTED_MODULE_7__[/* SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID */ \"b\"],data:Buffer.from([])});};var getCandyMachineState=/*#__PURE__*/function(){var _ref4=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee4(anchorWallet,candyMachineId,connection){var provider,idl,program,state,itemsAvailable,itemsRedeemed,itemsRemaining;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:provider=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* Provider */ \"c\"](connection,anchorWallet,{preflightCommitment:'processed'});_context4.next=3;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* Program */ \"b\"].fetchIdl(CANDY_MACHINE_PROGRAM,provider);case 3:idl=_context4.sent;program=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* Program */ \"b\"](idl,CANDY_MACHINE_PROGRAM,provider);_context4.next=7;return program.account.candyMachine.fetch(candyMachineId);case 7:state=_context4.sent;itemsAvailable=state.data.itemsAvailable.toNumber();itemsRedeemed=state.itemsRedeemed.toNumber();itemsRemaining=itemsAvailable-itemsRedeemed;return _context4.abrupt(\"return\",{id:candyMachineId,program:program,state:{authority:state.authority,itemsAvailable:itemsAvailable,itemsRedeemed:itemsRedeemed,itemsRemaining:itemsRemaining,isSoldOut:itemsRemaining===0,isActive:false,isPresale:false,isWhitelistOnly:false,goLiveDate:state.data.goLiveDate,treasury:state.wallet,tokenMint:state.tokenMint,gatekeeper:state.data.gatekeeper,endSettings:state.data.endSettings,whitelistMintSettings:state.data.whitelistMintSettings,hiddenSettings:state.data.hiddenSettings,price:state.data.price,retainAuthority:state.data.retainAuthority}});case 12:case\"end\":return _context4.stop();}}},_callee4);}));return function getCandyMachineState(_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();var getMasterEdition=/*#__PURE__*/function(){var _ref5=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee5(mint){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey.findProgramAddress([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer(),Buffer.from('edition')],TOKEN_METADATA_PROGRAM_ID);case 2:return _context5.abrupt(\"return\",_context5.sent[0]);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function getMasterEdition(_x9){return _ref5.apply(this,arguments);};}();var getMetadata=/*#__PURE__*/function(){var _ref6=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee6(mint){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey.findProgramAddress([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer()],TOKEN_METADATA_PROGRAM_ID);case 2:return _context6.abrupt(\"return\",_context6.sent[0]);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function getMetadata(_x10){return _ref6.apply(this,arguments);};}();var getCandyMachineCreator=/*#__PURE__*/function(){var _ref7=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee7(candyMachine){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey.findProgramAddress([Buffer.from('candy_machine'),candyMachine.toBuffer()],CANDY_MACHINE_PROGRAM);case 2:return _context7.abrupt(\"return\",_context7.sent);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function getCandyMachineCreator(_x11){return _ref7.apply(this,arguments);};}();var getCollectionPDA=/*#__PURE__*/function(){var _ref8=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee8(candyMachineAddress){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey.findProgramAddress([Buffer.from('collection'),candyMachineAddress.toBuffer()],CANDY_MACHINE_PROGRAM);case 2:return _context8.abrupt(\"return\",_context8.sent);case 3:case\"end\":return _context8.stop();}}},_callee8);}));return function getCollectionPDA(_x12){return _ref8.apply(this,arguments);};}();var getCollectionAuthorityRecordPDA=/*#__PURE__*/function(){var _ref9=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee9(mint,newAuthority){return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey.findProgramAddress([Buffer.from('metadata'),TOKEN_METADATA_PROGRAM_ID.toBuffer(),mint.toBuffer(),Buffer.from('collection_authority'),newAuthority.toBuffer()],TOKEN_METADATA_PROGRAM_ID);case 2:return _context9.abrupt(\"return\",_context9.sent[0]);case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function getCollectionAuthorityRecordPDA(_x13,_x14){return _ref9.apply(this,arguments);};}();var createAccountsForMint=/*#__PURE__*/function(){var _ref10=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee10(candyMachine,payer){var mint,userTokenAccountAddress,signers,instructions;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:mint=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].Keypair.generate();_context10.next=3;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getAtaForMint */ \"d\"])(mint.publicKey,payer);case 3:userTokenAccountAddress=_context10.sent[0];signers=[mint];_context10.t0=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SystemProgram;_context10.t1=payer;_context10.t2=mint.publicKey;_context10.t3=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* MintLayout */ \"a\"].span;_context10.next=11;return candyMachine.program.provider.connection.getMinimumBalanceForRentExemption(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* MintLayout */ \"a\"].span);case 11:_context10.t4=_context10.sent;_context10.t5=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"];_context10.t6={fromPubkey:_context10.t1,newAccountPubkey:_context10.t2,space:_context10.t3,lamports:_context10.t4,programId:_context10.t5};_context10.t7=_context10.t0.createAccount.call(_context10.t0,_context10.t6);_context10.t8=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createInitMintInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,0,payer,payer);_context10.t9=createAssociatedTokenAccountInstruction(userTokenAccountAddress,payer,payer,mint.publicKey);_context10.t10=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createMintToInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,userTokenAccountAddress,payer,[],1);instructions=[_context10.t7,_context10.t8,_context10.t9,_context10.t10];_context10.t11=mint;_context10.t12=userTokenAccountAddress;_context10.next=23;return Object(_connection__WEBPACK_IMPORTED_MODULE_6__[/* sendTransactions */ \"d\"])(candyMachine.program.provider.connection,candyMachine.program.provider.wallet,[instructions],[signers],_connection__WEBPACK_IMPORTED_MODULE_6__[/* SequenceType */ \"b\"].StopOnFailure,'singleGossip',function(){},function(){return false;},undefined,[],[]);case 23:_context10.t13=_context10.sent.txs[0].txid;return _context10.abrupt(\"return\",{mint:_context10.t11,userTokenAccount:_context10.t12,transaction:_context10.t13});case 25:case\"end\":return _context10.stop();}}},_callee10);}));return function createAccountsForMint(_x15,_x16){return _ref10.apply(this,arguments);};}();var mintOneToken=/*#__PURE__*/function(){var _ref11=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee11(candyMachine,payer){var _setupState$mint;var beforeTransactions,afterTransactions,setupState,mint,userTokenAccountAddress,userPayingAccountAddress,candyMachineAddress,remainingAccounts,cleanupInstructions,instructions,signers,_mint,whitelistToken,whitelistBurnAuthority,exists,transferAuthority,metadataAddress,masterEdition,_yield$getCandyMachin,_yield$getCandyMachin2,candyMachineCreator,creatorBump,_yield$getCollectionP,_yield$getCollectionP2,collectionPDA,collectionPDAAccount,collectionData,collectionMint,collectionAuthorityRecord,collectionMetadata,collectionMasterEdition,instructionsMatrix,signersMatrix,txns,mintTxn,_args11=arguments;return C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:beforeTransactions=_args11.length>2&&_args11[2]!==undefined?_args11[2]:[];afterTransactions=_args11.length>3&&_args11[3]!==undefined?_args11[3]:[];setupState=_args11.length>4?_args11[4]:undefined;mint=(_setupState$mint=setupState===null||setupState===void 0?void 0:setupState.mint)!==null&&_setupState$mint!==void 0?_setupState$mint:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].Keypair.generate();_context11.next=6;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getAtaForMint */ \"d\"])(mint.publicKey,payer);case 6:userTokenAccountAddress=_context11.sent[0];if(!candyMachine.state.tokenMint){_context11.next=13;break;}_context11.next=10;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getAtaForMint */ \"d\"])(candyMachine.state.tokenMint,payer);case 10:_context11.t0=_context11.sent[0];_context11.next=14;break;case 13:_context11.t0=payer;case 14:userPayingAccountAddress=_context11.t0;candyMachineAddress=candyMachine.id;remainingAccounts=[];cleanupInstructions=[];instructions=[];signers=[];console.log('SetupState: ',setupState);if(setupState){_context11.next=40;break;}signers.push(mint);_context11.t1=instructions.push;_context11.t2=instructions;_context11.t3=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SystemProgram;_context11.t4=payer;_context11.t5=mint.publicKey;_context11.t6=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* MintLayout */ \"a\"].span;_context11.next=31;return candyMachine.program.provider.connection.getMinimumBalanceForRentExemption(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* MintLayout */ \"a\"].span);case 31:_context11.t7=_context11.sent;_context11.t8=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"];_context11.t9={fromPubkey:_context11.t4,newAccountPubkey:_context11.t5,space:_context11.t6,lamports:_context11.t7,programId:_context11.t8};_context11.t10=_context11.t3.createAccount.call(_context11.t3,_context11.t9);_context11.t11=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createInitMintInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,0,payer,payer);_context11.t12=createAssociatedTokenAccountInstruction(userTokenAccountAddress,payer,payer,mint.publicKey);_context11.t13=_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createMintToInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],mint.publicKey,userTokenAccountAddress,payer,[],1);_context11.t14=[_context11.t10,_context11.t11,_context11.t12,_context11.t13];_context11.t1.apply.call(_context11.t1,_context11.t2,_context11.t14);case 40:if(!candyMachine.state.gatekeeper){_context11.next=55;break;}_context11.t15=remainingAccounts;_context11.next=44;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getNetworkToken */ \"f\"])(payer,candyMachine.state.gatekeeper.gatekeeperNetwork);case 44:_context11.t16=_context11.sent[0];_context11.t17={pubkey:_context11.t16,isWritable:true,isSigner:false};_context11.t15.push.call(_context11.t15,_context11.t17);if(!candyMachine.state.gatekeeper.expireOnUse){_context11.next=55;break;}remainingAccounts.push({pubkey:_utils__WEBPACK_IMPORTED_MODULE_7__[/* CIVIC */ \"a\"],isWritable:false,isSigner:false});_context11.t18=remainingAccounts;_context11.next=52;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getNetworkExpire */ \"e\"])(candyMachine.state.gatekeeper.gatekeeperNetwork);case 52:_context11.t19=_context11.sent[0];_context11.t20={pubkey:_context11.t19,isWritable:false,isSigner:false};_context11.t18.push.call(_context11.t18,_context11.t20);case 55:if(!candyMachine.state.whitelistMintSettings){_context11.next=70;break;}_mint=new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].PublicKey(candyMachine.state.whitelistMintSettings.mint);_context11.next=59;return Object(_utils__WEBPACK_IMPORTED_MODULE_7__[/* getAtaForMint */ \"d\"])(_mint,payer);case 59:whitelistToken=_context11.sent[0];remainingAccounts.push({pubkey:whitelistToken,isWritable:true,isSigner:false});if(!candyMachine.state.whitelistMintSettings.mode.burnEveryTime){_context11.next=70;break;}whitelistBurnAuthority=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].Keypair.generate();remainingAccounts.push({pubkey:_mint,isWritable:true,isSigner:false});remainingAccounts.push({pubkey:whitelistBurnAuthority.publicKey,isWritable:false,isSigner:true});signers.push(whitelistBurnAuthority);_context11.next=68;return candyMachine.program.provider.connection.getAccountInfo(whitelistToken);case 68:exists=_context11.sent;if(exists){instructions.push(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createApproveInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],whitelistToken,whitelistBurnAuthority.publicKey,payer,[],1));cleanupInstructions.push(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createRevokeInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],whitelistToken,payer,[]));}case 70:if(candyMachine.state.tokenMint){transferAuthority=_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].Keypair.generate();signers.push(transferAuthority);remainingAccounts.push({pubkey:userPayingAccountAddress,isWritable:true,isSigner:false});remainingAccounts.push({pubkey:transferAuthority.publicKey,isWritable:false,isSigner:true});instructions.push(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createApproveInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],userPayingAccountAddress,transferAuthority.publicKey,payer,[],candyMachine.state.price.toNumber()));cleanupInstructions.push(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* Token */ \"c\"].createRevokeInstruction(_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],userPayingAccountAddress,payer,[]));}_context11.next=73;return getMetadata(mint.publicKey);case 73:metadataAddress=_context11.sent;_context11.next=76;return getMasterEdition(mint.publicKey);case 76:masterEdition=_context11.sent;_context11.next=79;return getCandyMachineCreator(candyMachineAddress);case 79:_yield$getCandyMachin=_context11.sent;_yield$getCandyMachin2=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_yield$getCandyMachin,2);candyMachineCreator=_yield$getCandyMachin2[0];creatorBump=_yield$getCandyMachin2[1];console.log(remainingAccounts.map(function(rm){return rm.pubkey.toBase58();}));_context11.t21=instructions;_context11.next=87;return candyMachine.program.instruction.mintNft(creatorBump,{accounts:{candyMachine:candyMachineAddress,candyMachineCreator:candyMachineCreator,payer:payer,wallet:candyMachine.state.treasury,mint:mint.publicKey,metadata:metadataAddress,masterEdition:masterEdition,mintAuthority:payer,updateAuthority:payer,tokenMetadataProgram:TOKEN_METADATA_PROGRAM_ID,tokenProgram:_solana_spl_token__WEBPACK_IMPORTED_MODULE_4__[/* TOKEN_PROGRAM_ID */ \"b\"],systemProgram:_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__[\"SystemProgram\"].programId,rent:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SYSVAR_RENT_PUBKEY,clock:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SYSVAR_CLOCK_PUBKEY,recentBlockhashes:_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__[\"SYSVAR_SLOT_HASHES_PUBKEY\"],instructionSysvarAccount:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:remainingAccounts.length>0?remainingAccounts:undefined});case 87:_context11.t22=_context11.sent;_context11.t21.push.call(_context11.t21,_context11.t22);_context11.next=91;return getCollectionPDA(candyMachineAddress);case 91:_yield$getCollectionP=_context11.sent;_yield$getCollectionP2=Object(C_Users_Kamikaze_Desktop_Mainnet_metaplex_js_packages_candy_machine_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_yield$getCollectionP,1);collectionPDA=_yield$getCollectionP2[0];_context11.next=96;return candyMachine.program.provider.connection.getAccountInfo(collectionPDA);case 96:collectionPDAAccount=_context11.sent;if(!(collectionPDAAccount&&candyMachine.state.retainAuthority)){_context11.next=127;break;}_context11.prev=98;_context11.next=101;return candyMachine.program.account.collectionPda.fetch(collectionPDA);case 101:collectionData=_context11.sent;console.log(collectionData);collectionMint=collectionData.mint;_context11.next=106;return getCollectionAuthorityRecordPDA(collectionMint,collectionPDA);case 106:collectionAuthorityRecord=_context11.sent;console.log(collectionMint);if(!collectionMint){_context11.next=122;break;}_context11.next=111;return getMetadata(collectionMint);case 111:collectionMetadata=_context11.sent;_context11.next=114;return getMasterEdition(collectionMint);case 114:collectionMasterEdition=_context11.sent;console.log('Collection PDA: ',collectionPDA.toBase58());console.log('Authority: ',candyMachine.state.authority.toBase58());_context11.t23=instructions;_context11.next=120;return candyMachine.program.instruction.setCollectionDuringMint({accounts:{candyMachine:candyMachineAddress,metadata:metadataAddress,payer:payer,collectionPda:collectionPDA,tokenMetadataProgram:TOKEN_METADATA_PROGRAM_ID,instructions:_project_serum_anchor__WEBPACK_IMPORTED_MODULE_3__[/* web3 */ \"e\"].SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:collectionMint,collectionMetadata:collectionMetadata,collectionMasterEdition:collectionMasterEdition,authority:candyMachine.state.authority,collectionAuthorityRecord:collectionAuthorityRecord}});case 120:_context11.t24=_context11.sent;_context11.t23.push.call(_context11.t23,_context11.t24);case 122:_context11.next=127;break;case 124:_context11.prev=124;_context11.t25=_context11[\"catch\"](98);console.error(_context11.t25);case 127:instructionsMatrix=[instructions,cleanupInstructions];signersMatrix=[signers,[]];_context11.prev=129;_context11.next=132;return Object(_connection__WEBPACK_IMPORTED_MODULE_6__[/* sendTransactions */ \"d\"])(candyMachine.program.provider.connection,candyMachine.program.provider.wallet,instructionsMatrix,signersMatrix,_connection__WEBPACK_IMPORTED_MODULE_6__[/* SequenceType */ \"b\"].StopOnFailure,'singleGossip',function(){},function(){return false;},undefined,beforeTransactions,afterTransactions);case 132:txns=_context11.sent.txs.map(function(t){return t.txid;});mintTxn=txns[0];return _context11.abrupt(\"return\",{mintTxId:mintTxn,metadataKey:metadataAddress});case 137:_context11.prev=137;_context11.t26=_context11[\"catch\"](129);console.log(_context11.t26);case 140:return _context11.abrupt(\"return\",null);case 141:case\"end\":return _context11.stop();}}},_callee11,null,[[98,124],[129,137]]);}));return function mintOneToken(_x17,_x18){return _ref11.apply(this,arguments);};}();var shortenAddress=function shortenAddress(address){var chars=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;return\"\".concat(address.slice(0,chars),\"...\").concat(address.slice(-chars));};var sleep=function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(5).Buffer))\n\n/***/ })\n\n},[[318,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\src\\App.css","ignored C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\tweetnacl crypto","ignored C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\elliptic\\node_modules\\bn.js\\lib buffer","ignored C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\brorand crypto","C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Kamikaze\\Desktop\\Mainnet\\metaplex\\js\\packages\\candy-machine-ui\\src\\index.css","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/MintCountdown.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/MintButton.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/Home.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/App.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/reportWebVitals.ts","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/index.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/utils.ts","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/connection.tsx","C:/Users/Kamikaze/Desktop/Mainnet/metaplex/js/packages/candy-machine-ui/src/candy-machine.ts"],"names":["useStyles","makeStyles","theme","createStyles","root","display","padding","spacing","margin","width","height","flexDirection","alignContent","alignItems","justifyContent","background","color","borderRadius","fontSize","done","marginBottom","fontWeight","item","MintCountdown","date","status","style","onComplete","classes","renderCountdown","days","hours","minutes","seconds","completed","CTAButton","styled","Button","MintButton","onMint","candyMachine","isMinting","setIsMinting","isActive","wallet","useWallet","connection","useConnection","useState","verified","setVerified","useGateway","requestGatewayToken","gatewayStatus","webSocketSubscriptionId","setWebSocketSubscriptionId","clicked","setClicked","getMintButtonContent","state","isSoldOut","isPresale","isWhitelistOnly","useEffect","mint","removeAccountChangeListener","previousGatewayStatus","usePrevious","fromStates","GatewayStatus","NOT_REQUESTED","REFRESH_TOKEN_REQUIRED","invalidToStates","UNKNOWN","find","console","log","gatekeeper","network","gatekeeperNetwork","toBase58","ACTIVE","findGatewayToken","publicKey","gatewayToken","isValid","window","open","getGatewayTokenAddressForOwnerAndGatekeeperNetwork","gatewayTokenAddress","onGatewayTokenChange","Error","value","ref","useRef","current","ConnectButton","WalletDialogButton","MintContainer","div","Home","props","isUserMinting","setIsUserMinting","setCandyMachine","message","severity","undefined","alertState","setAlertState","setIsActive","endDate","setEndDate","itemsRemaining","setItemsRemaining","isWhitelistUser","setIsWhitelistUser","setIsPresale","isValidBalance","setIsValidBalance","discountPrice","setDiscountPrice","needTxnSplit","setNeedTxnSplit","setupTxn","setSetupTxn","rpcUrl","rpcHost","anchorWallet","useMemo","signAllTransactions","signTransaction","refreshCandyMachineState","useCallback","commitment","Connection","candyMachineId","getCandyMachineState","cndy","active","goLiveDate","toNumber","Date","getTime","presale","isWLUser","userPrice","price","whitelistMintSettings","anchor","PublicKey","getAtaForMint","token","getTokenAccountBalance","balance","parseInt","amount","tokenMint","valid","gte","getBalance","endSettings","endSettingType","toDate","number","limit","Math","min","itemsAvailable","itemsRedeemed","getCollectionPDA","collectionPDA","getAccountInfo","collectionPDAAccount","txnEstimate","retainAuthority","mode","burnEveryTime","expireOnUse","hideDuration","startsWith","beforeTransactions","afterTransactions","document","getElementById","click","connected","program","createAccountsForMint","setupMint","err","transaction","awaitTransactionSignatureConfirmation","txTimeout","mintOneToken","mintResult","metadataStatus","mintTxId","provider","metadataKey","remaining","msg","indexOf","code","location","reload","toggleMintButton","now","loop","setTimeout","marginTop","position","paddingBottom","backgroundColor","formatNumber","asNumber","getCountdownDate","CANDY_MACHINE_PROGRAM","WalletAdapterNetwork","Devnet","userMustSign","signatures","sig","equals","sendTransaction","error","autoShowModal","val","createTheme","palette","type","getCandyMachineId","process","e","clusterApiUrl","App","endpoint","wallets","getPhantomWallet","getSolflareWallet","getSlopeWallet","getSolletWallet","getSolletExtensionWallet","DEFAULT_TIMEOUT","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","numberFormater","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","LAMPORTS_PER_SOL","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","CIVIC","buyer","findProgramAddress","toBuffer","TOKEN_PROGRAM_ID","getNetworkExpire","Buffer","from","getNetworkToken","createAssociatedTokenAccountInstruction","associatedTokenAddress","payer","walletAddress","splTokenMintAddress","keys","pubkey","isSigner","isWritable","SystemProgram","programId","SYSVAR_RENT_PUBKEY","TransactionInstruction","data","getErrorForTransaction","txid","confirmTransaction","getParsedConfirmedTransaction","tx","errors","meta","logMessages","forEach","regex","m","exec","index","lastIndex","length","push","SequenceType","sendTransactionsWithManualRetry","instructions","signers","stopPoint","tries","lastInstructionsLength","toRemoveSigners","filter","instr","i","ids","filteredSigners","_","slice","sendTransactionWithRetry","id","sendTransactions","StopOnFailure","txs","concat","map","t","instructionSet","signersSet","sequenceType","Parallel","successCallback","ind","failCallback","block","WalletNotConnectedError","unsignedTxns","getRecentBlockhash","Transaction","instruction","add","recentBlockhash","blockhash","setSigners","s","partialSign","partiallySignedTransactions","fullySignedTransactions","signedTxns","pendingTxns","signedTxnPromise","sendSignedTransaction","signedTransaction","slot","Promise","all","result","awaitConfirmation","includesFeePayer","rawTransaction","serialize","options","skipPreflight","sendRawTransaction","confirmation","beforeSend","getUnixTs","timeout","startTime","sleep","simulateResult","simulateTransaction","logs","line","JSON","stringify","_recentBlockhash","_disableBlockhashCaching","signData","serializeMessage","wireTransaction","_serialize","encodedTransaction","toString","config","encoding","args","_rpcRequest","res","queryStatus","confirmations","subId","resolve","reject","onSignature","context","getSignatureStatuses","signatureStatuses","_signatureSubscriptions","removeSignatureListener","ms","TOKEN_METADATA_PROGRAM_ID","preflightCommitment","fetchIdl","idl","account","fetch","authority","treasury","hiddenSettings","getMasterEdition","getMetadata","getCandyMachineCreator","candyMachineAddress","getCollectionAuthorityRecordPDA","newAuthority","Keypair","generate","userTokenAccountAddress","MintLayout","span","getMinimumBalanceForRentExemption","fromPubkey","newAccountPubkey","space","lamports","createAccount","Token","createInitMintInstruction","createMintToInstruction","userTokenAccount","setupState","userPayingAccountAddress","remainingAccounts","cleanupInstructions","whitelistToken","whitelistBurnAuthority","exists","createApproveInstruction","createRevokeInstruction","transferAuthority","metadataAddress","masterEdition","candyMachineCreator","creatorBump","rm","mintNft","accounts","metadata","mintAuthority","updateAuthority","tokenMetadataProgram","tokenProgram","systemProgram","rent","clock","SYSVAR_CLOCK_PUBKEY","recentBlockhashes","SYSVAR_SLOT_HASHES_PUBKEY","instructionSysvarAccount","SYSVAR_INSTRUCTIONS_PUBKEY","collectionPda","collectionData","collectionMint","collectionAuthorityRecord","collectionMetadata","collectionMasterEdition","setCollectionDuringMint","instructionsMatrix","signersMatrix","txns","mintTxn","shortenAddress","address","chars"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import { Paper } from '@material-ui/core';\r\nimport Countdown from 'react-countdown';\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n      padding: theme.spacing(0),\r\n      '& > *': {\r\n        margin: theme.spacing(0.4),\r\n        width: theme.spacing(6),\r\n        height: theme.spacing(6),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        background: '#384457',\r\n        color: 'white',\r\n        borderRadius: 5,\r\n        fontSize: 10,\r\n      },\r\n    },\r\n    done: {\r\n      display: 'flex',\r\n      margin: 0,\r\n      marginBottom: theme.spacing(0.5),\r\n      height: theme.spacing(3.5),\r\n      padding: theme.spacing(1),\r\n      flexDirection: 'column',\r\n      alignContent: 'center',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      background: '#384457',\r\n      color: 'white',\r\n      borderRadius: 5,\r\n      fontWeight: 'bold',\r\n      fontSize: 18,\r\n    },\r\n    item: {\r\n      fontWeight: 'bold',\r\n      fontSize: 18,\r\n    },\r\n  }),\r\n);\r\n\r\ninterface MintCountdownProps {\r\n  date: Date | undefined;\r\n  style?: React.CSSProperties;\r\n  status?: string;\r\n  onComplete?: () => void;\r\n}\r\n\r\ninterface MintCountdownRender {\r\n  days: number;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n  completed: boolean;\r\n}\r\n\r\nexport const MintCountdown: React.FC<MintCountdownProps> = ({\r\n  date,\r\n  status,\r\n  style,\r\n  onComplete,\r\n}) => {\r\n  const classes = useStyles();\r\n  const renderCountdown = ({\r\n    days,\r\n    hours,\r\n    minutes,\r\n    seconds,\r\n    completed,\r\n  }: MintCountdownRender) => {\r\n    hours += days * 24;\r\n    if (completed) {\r\n      return status ? <span className={classes.done}>{status}</span> : null;\r\n    } else {\r\n      return (\r\n        <div className={classes.root} style={style}>\r\n          <Paper elevation={0}>\r\n            <span className={classes.item}>\r\n              {hours < 10 ? `0${hours}` : hours}\r\n            </span>\r\n            <span>hrs</span>\r\n          </Paper>\r\n          <Paper elevation={0}>\r\n            <span className={classes.item}>\r\n              {minutes < 10 ? `0${minutes}` : minutes}\r\n            </span>\r\n            <span>mins</span>\r\n          </Paper>\r\n          <Paper elevation={0}>\r\n            <span className={classes.item}>\r\n              {seconds < 10 ? `0${seconds}` : seconds}\r\n            </span>\r\n            <span>secs</span>\r\n          </Paper>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  if (date) {\r\n    return (\r\n      <Countdown\r\n        date={date}\r\n        onComplete={onComplete}\r\n        renderer={renderCountdown}\r\n      />\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n","import styled from 'styled-components';\r\nimport Button from '@material-ui/core/Button';\r\nimport { CandyMachineAccount } from './candy-machine';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { GatewayStatus, useGateway } from '@civic/solana-gateway-react';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useConnection, useWallet } from '@solana/wallet-adapter-react';\r\nimport {\r\n  findGatewayToken,\r\n  getGatewayTokenAddressForOwnerAndGatekeeperNetwork,\r\n  onGatewayTokenChange,\r\n  removeAccountChangeListener,\r\n} from '@identity.com/solana-gateway-ts';\r\n\r\nexport const CTAButton = styled(Button)`\r\n  width: 100%;\r\n  height: 60px;\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\r\n  color: white;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n`; // add your own styles here\r\n\r\nexport const MintButton = ({\r\n  onMint,\r\n  candyMachine,\r\n  isMinting,\r\n  setIsMinting,\r\n  isActive,\r\n}: {\r\n  onMint: () => Promise<void>;\r\n  candyMachine?: CandyMachineAccount;\r\n  isMinting: boolean;\r\n  setIsMinting: (val: boolean) => void;\r\n  isActive: boolean;\r\n}) => {\r\n  const wallet = useWallet();\r\n  const connection = useConnection();\r\n  const [verified, setVerified] = useState(false);\r\n  const { requestGatewayToken, gatewayStatus } = useGateway();\r\n  const [webSocketSubscriptionId, setWebSocketSubscriptionId] = useState(-1);\r\n  const [clicked, setClicked] = useState(false);\r\n\r\n  const getMintButtonContent = () => {\r\n    if (candyMachine?.state.isSoldOut) {\r\n      return 'SOLD OUT';\r\n    } else if (isMinting) {\r\n      return <CircularProgress />;\r\n    } else if (\r\n      candyMachine?.state.isPresale ||\r\n      candyMachine?.state.isWhitelistOnly\r\n    ) {\r\n      return 'WHITELIST MINT';\r\n    }\r\n\r\n    return 'MINT';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const mint = async () => {\r\n      await removeAccountChangeListener(\r\n        connection.connection,\r\n        webSocketSubscriptionId,\r\n      );\r\n      await onMint();\r\n\r\n      setClicked(false);\r\n      setVerified(false);\r\n    };\r\n    if (verified && clicked) {\r\n      mint();\r\n    }\r\n  }, [\r\n    verified,\r\n    clicked,\r\n    connection.connection,\r\n    onMint,\r\n    webSocketSubscriptionId,\r\n  ]);\r\n\r\n  const previousGatewayStatus = usePrevious(gatewayStatus);\r\n  useEffect(() => {\r\n    const fromStates = [\r\n      GatewayStatus.NOT_REQUESTED,\r\n      GatewayStatus.REFRESH_TOKEN_REQUIRED,\r\n    ];\r\n    const invalidToStates = [...fromStates, GatewayStatus.UNKNOWN];\r\n    if (\r\n      fromStates.find(state => previousGatewayStatus === state) &&\r\n      !invalidToStates.find(state => gatewayStatus === state)\r\n    ) {\r\n      setIsMinting(true);\r\n    }\r\n    console.log('change: ', gatewayStatus);\r\n  }, [setIsMinting, previousGatewayStatus, gatewayStatus]);\r\n\r\n  return (\r\n    <CTAButton\r\n      disabled={isMinting || !isActive}\r\n      onClick={async () => {\r\n        if (candyMachine?.state.isActive && candyMachine?.state.gatekeeper) {\r\n          const network =\r\n            candyMachine.state.gatekeeper.gatekeeperNetwork.toBase58();\r\n          if (network === 'ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6') {\r\n            if (gatewayStatus === GatewayStatus.ACTIVE) {\r\n              await onMint();\r\n            } else {\r\n              // setIsMinting(true);\r\n              await requestGatewayToken();\r\n              console.log('after: ', gatewayStatus);\r\n            }\r\n          } else if (\r\n            network === 'ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE' ||\r\n            network === 'tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt'\r\n          ) {\r\n            setClicked(true);\r\n            const gatewayToken = await findGatewayToken(\r\n              connection.connection,\r\n              wallet.publicKey!,\r\n              candyMachine.state.gatekeeper.gatekeeperNetwork,\r\n            );\r\n\r\n            if (gatewayToken?.isValid()) {\r\n              await onMint();\r\n            } else {\r\n              window.open(\r\n                `https://verify.encore.fans/?gkNetwork=${network}`,\r\n                '_blank',\r\n              );\r\n\r\n              const gatewayTokenAddress =\r\n                await getGatewayTokenAddressForOwnerAndGatekeeperNetwork(\r\n                  wallet.publicKey!,\r\n                  candyMachine.state.gatekeeper.gatekeeperNetwork,\r\n                );\r\n\r\n              setWebSocketSubscriptionId(\r\n                onGatewayTokenChange(\r\n                  connection.connection,\r\n                  gatewayTokenAddress,\r\n                  () => setVerified(true),\r\n                  'confirmed',\r\n                ),\r\n              );\r\n            }\r\n          } else {\r\n            setClicked(false);\r\n            throw new Error(`Unknown Gatekeeper Network: ${network}`);\r\n          }\r\n        } else {\r\n          await onMint();\r\n          setClicked(false);\r\n        }\r\n      }}\r\n      variant=\"contained\"\r\n    >\r\n      {getMintButtonContent()}\r\n    </CTAButton>\r\n  );\r\n};\r\n\r\nfunction usePrevious<T>(value: T): T | undefined {\r\n  const ref = useRef<T>();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n  return ref.current;\r\n}\r\n","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport * as anchor from '@project-serum/anchor';\r\n\r\nimport styled from 'styled-components';\r\nimport { Container, Snackbar } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n  Commitment,\r\n  Connection,\r\n  PublicKey,\r\n  Transaction,\r\n} from '@solana/web3.js';\r\nimport { useWallet } from '@solana/wallet-adapter-react';\r\nimport { WalletDialogButton } from '@solana/wallet-adapter-material-ui';\r\nimport {\r\n  awaitTransactionSignatureConfirmation,\r\n  CANDY_MACHINE_PROGRAM,\r\n  CandyMachineAccount,\r\n  createAccountsForMint,\r\n  getCandyMachineState,\r\n  getCollectionPDA,\r\n  mintOneToken,\r\n  SetupState,\r\n} from './candy-machine';\r\nimport { AlertState, formatNumber, getAtaForMint, toDate } from './utils';\r\nimport { MintCountdown } from './MintCountdown';\r\nimport { MintButton } from './MintButton';\r\nimport { GatewayProvider } from '@civic/solana-gateway-react';\r\nimport { sendTransaction } from './connection';\r\nimport { WalletAdapterNetwork } from '@solana/wallet-adapter-base';\r\n\r\nconst ConnectButton = styled(WalletDialogButton)`\r\n  width: 100%;\r\n  height: 60px;\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\r\n  color: white;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst MintContainer = styled.div``; // add your owns styles here\r\n\r\nexport interface HomeProps {\r\n  candyMachineId?: anchor.web3.PublicKey;\r\n  connection: anchor.web3.Connection;\r\n  txTimeout: number;\r\n  rpcHost: string;\r\n  network: WalletAdapterNetwork;\r\n}\r\n\r\nconst Home = (props: HomeProps) => {\r\n  const [isUserMinting, setIsUserMinting] = useState(false);\r\n  const [candyMachine, setCandyMachine] = useState<CandyMachineAccount>();\r\n  const [alertState, setAlertState] = useState<AlertState>({\r\n    open: false,\r\n    message: '',\r\n    severity: undefined,\r\n  });\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [endDate, setEndDate] = useState<Date>();\r\n  const [itemsRemaining, setItemsRemaining] = useState<number>();\r\n  const [isWhitelistUser, setIsWhitelistUser] = useState(false);\r\n  const [isPresale, setIsPresale] = useState(false);\r\n  const [isValidBalance, setIsValidBalance] = useState(false);\r\n  const [discountPrice, setDiscountPrice] = useState<anchor.BN>();\r\n  const [needTxnSplit, setNeedTxnSplit] = useState(true);\r\n  const [setupTxn, setSetupTxn] = useState<SetupState>();\r\n\r\n  const rpcUrl = props.rpcHost;\r\n  const wallet = useWallet();\r\n\r\n  const anchorWallet = useMemo(() => {\r\n    if (\r\n      !wallet ||\r\n      !wallet.publicKey ||\r\n      !wallet.signAllTransactions ||\r\n      !wallet.signTransaction\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return {\r\n      publicKey: wallet.publicKey,\r\n      signAllTransactions: wallet.signAllTransactions,\r\n      signTransaction: wallet.signTransaction,\r\n    } as anchor.Wallet;\r\n  }, [wallet]);\r\n\r\n  const refreshCandyMachineState = useCallback(\r\n    async (commitment: Commitment = 'confirmed') => {\r\n      if (!anchorWallet) {\r\n        return;\r\n      }\r\n\r\n      const connection = new Connection(props.rpcHost, commitment);\r\n\r\n      if (props.candyMachineId) {\r\n        try {\r\n          const cndy = await getCandyMachineState(\r\n            anchorWallet,\r\n            props.candyMachineId,\r\n            connection,\r\n          );\r\n          let active =\r\n            cndy?.state.goLiveDate?.toNumber() < new Date().getTime() / 1000;\r\n          let presale = false;\r\n\r\n          // duplication of state to make sure we have the right values!\r\n          let isWLUser = false;\r\n          let userPrice = cndy.state.price;\r\n\r\n          // whitelist mint?\r\n          if (cndy?.state.whitelistMintSettings) {\r\n            // is it a presale mint?\r\n            if (\r\n              cndy.state.whitelistMintSettings.presale &&\r\n              (!cndy.state.goLiveDate ||\r\n                cndy.state.goLiveDate.toNumber() > new Date().getTime() / 1000)\r\n            ) {\r\n              presale = true;\r\n            }\r\n            // is there a discount?\r\n            if (cndy.state.whitelistMintSettings.discountPrice) {\r\n              setDiscountPrice(cndy.state.whitelistMintSettings.discountPrice);\r\n              userPrice = cndy.state.whitelistMintSettings.discountPrice;\r\n            } else {\r\n              setDiscountPrice(undefined);\r\n              // when presale=false and discountPrice=null, mint is restricted\r\n              // to whitelist users only\r\n              if (!cndy.state.whitelistMintSettings.presale) {\r\n                cndy.state.isWhitelistOnly = true;\r\n              }\r\n            }\r\n            // retrieves the whitelist token\r\n            const mint = new anchor.web3.PublicKey(\r\n              cndy.state.whitelistMintSettings.mint,\r\n            );\r\n            const token = (\r\n              await getAtaForMint(mint, anchorWallet.publicKey)\r\n            )[0];\r\n\r\n            try {\r\n              const balance = await connection.getTokenAccountBalance(token);\r\n              isWLUser = parseInt(balance.value.amount) > 0;\r\n              // only whitelist the user if the balance > 0\r\n              setIsWhitelistUser(isWLUser);\r\n\r\n              if (cndy.state.isWhitelistOnly) {\r\n                active = isWLUser && (presale || active);\r\n              }\r\n            } catch (e) {\r\n              setIsWhitelistUser(false);\r\n              // no whitelist user, no mint\r\n              if (cndy.state.isWhitelistOnly) {\r\n                active = false;\r\n              }\r\n              console.log(\r\n                'There was a problem fetching whitelist token balance',\r\n              );\r\n              console.log(e);\r\n            }\r\n          }\r\n          userPrice = isWLUser ? userPrice : cndy.state.price;\r\n\r\n          if (cndy?.state.tokenMint) {\r\n            // retrieves the SPL token\r\n            const mint = new anchor.web3.PublicKey(cndy.state.tokenMint);\r\n            const token = (\r\n              await getAtaForMint(mint, anchorWallet.publicKey)\r\n            )[0];\r\n            try {\r\n              const balance = await connection.getTokenAccountBalance(token);\r\n\r\n              const valid = new anchor.BN(balance.value.amount).gte(userPrice);\r\n\r\n              // only allow user to mint if token balance >  the user if the balance > 0\r\n              setIsValidBalance(valid);\r\n              active = active && valid;\r\n            } catch (e) {\r\n              setIsValidBalance(false);\r\n              active = false;\r\n              // no whitelist user, no mint\r\n              console.log('There was a problem fetching SPL token balance');\r\n              console.log(e);\r\n            }\r\n          } else {\r\n            const balance = new anchor.BN(\r\n              await connection.getBalance(anchorWallet.publicKey),\r\n            );\r\n            const valid = balance.gte(userPrice);\r\n            setIsValidBalance(valid);\r\n            active = active && valid;\r\n          }\r\n\r\n          // datetime to stop the mint?\r\n          if (cndy?.state.endSettings?.endSettingType.date) {\r\n            setEndDate(toDate(cndy.state.endSettings.number));\r\n            if (\r\n              cndy.state.endSettings.number.toNumber() <\r\n              new Date().getTime() / 1000\r\n            ) {\r\n              active = false;\r\n            }\r\n          }\r\n          // amount to stop the mint?\r\n          if (cndy?.state.endSettings?.endSettingType.amount) {\r\n            let limit = Math.min(\r\n              cndy.state.endSettings.number.toNumber(),\r\n              cndy.state.itemsAvailable,\r\n            );\r\n            if (cndy.state.itemsRedeemed < limit) {\r\n              setItemsRemaining(limit - cndy.state.itemsRedeemed);\r\n            } else {\r\n              setItemsRemaining(0);\r\n              cndy.state.isSoldOut = true;\r\n            }\r\n          } else {\r\n            setItemsRemaining(cndy.state.itemsRemaining);\r\n          }\r\n\r\n          if (cndy.state.isSoldOut) {\r\n            active = false;\r\n          }\r\n\r\n          const [collectionPDA] = await getCollectionPDA(props.candyMachineId);\r\n          const collectionPDAAccount = await connection.getAccountInfo(\r\n            collectionPDA,\r\n          );\r\n\r\n          setIsActive((cndy.state.isActive = active));\r\n          setIsPresale((cndy.state.isPresale = presale));\r\n          setCandyMachine(cndy);\r\n\r\n          const txnEstimate =\r\n            892 +\r\n            (!!collectionPDAAccount && cndy.state.retainAuthority ? 182 : 0) +\r\n            (cndy.state.tokenMint ? 177 : 0) +\r\n            (cndy.state.whitelistMintSettings ? 33 : 0) +\r\n            (cndy.state.whitelistMintSettings?.mode?.burnEveryTime ? 145 : 0) +\r\n            (cndy.state.gatekeeper ? 33 : 0) +\r\n            (cndy.state.gatekeeper?.expireOnUse ? 66 : 0);\r\n\r\n          setNeedTxnSplit(txnEstimate > 1230);\r\n        } catch (e) {\r\n          if (e instanceof Error) {\r\n            if (\r\n              e.message === `Account does not exist ${props.candyMachineId}`\r\n            ) {\r\n              setAlertState({\r\n                open: true,\r\n                message: `Couldn't fetch candy machine state from candy machine with address: ${props.candyMachineId}, using rpc: ${props.rpcHost}! You probably typed the REACT_APP_CANDY_MACHINE_ID value in wrong in your .env file, or you are using the wrong RPC!`,\r\n                severity: 'error',\r\n                hideDuration: null,\r\n              });\r\n            } else if (\r\n              e.message.startsWith('failed to get info about account')\r\n            ) {\r\n              setAlertState({\r\n                open: true,\r\n                message: `Couldn't fetch candy machine state with rpc: ${props.rpcHost}! This probably means you have an issue with the REACT_APP_SOLANA_RPC_HOST value in your .env file, or you are not using a custom RPC!`,\r\n                severity: 'error',\r\n                hideDuration: null,\r\n              });\r\n            }\r\n          } else {\r\n            setAlertState({\r\n              open: true,\r\n              message: `${e}`,\r\n              severity: 'error',\r\n              hideDuration: null,\r\n            });\r\n          }\r\n          console.log(e);\r\n        }\r\n      } else {\r\n        setAlertState({\r\n          open: true,\r\n          message: `Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!`,\r\n          severity: 'error',\r\n          hideDuration: null,\r\n        });\r\n      }\r\n    },\r\n    [anchorWallet, props.candyMachineId, props.rpcHost],\r\n  );\r\n\r\n  const onMint = async (\r\n    beforeTransactions: Transaction[] = [],\r\n    afterTransactions: Transaction[] = [],\r\n  ) => {\r\n    try {\r\n      setIsUserMinting(true);\r\n      document.getElementById('#identity')?.click();\r\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\r\n        let setupMint: SetupState | undefined;\r\n        if (needTxnSplit && setupTxn === undefined) {\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Please sign account setup transaction',\r\n            severity: 'info',\r\n          });\r\n          setupMint = await createAccountsForMint(\r\n            candyMachine,\r\n            wallet.publicKey,\r\n          );\r\n          let status: any = { err: true };\r\n          if (setupMint.transaction) {\r\n            status = await awaitTransactionSignatureConfirmation(\r\n              setupMint.transaction,\r\n              props.txTimeout,\r\n              props.connection,\r\n              true,\r\n            );\r\n          }\r\n          if (status && !status.err) {\r\n            setSetupTxn(setupMint);\r\n            setAlertState({\r\n              open: true,\r\n              message:\r\n                'Setup transaction succeeded! Please sign minting transaction',\r\n              severity: 'info',\r\n            });\r\n          } else {\r\n            setAlertState({\r\n              open: true,\r\n              message: 'Mint failed! Please try again!',\r\n              severity: 'error',\r\n            });\r\n            setIsUserMinting(false);\r\n            return;\r\n          }\r\n        } else {\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Please sign minting transaction',\r\n            severity: 'info',\r\n          });\r\n        }\r\n\r\n        let mintResult = await mintOneToken(\r\n          candyMachine,\r\n          wallet.publicKey,\r\n          beforeTransactions,\r\n          afterTransactions,\r\n          setupMint ?? setupTxn,\r\n        );\r\n\r\n        let status: any = { err: true };\r\n        let metadataStatus = null;\r\n        if (mintResult) {\r\n          status = await awaitTransactionSignatureConfirmation(\r\n            mintResult.mintTxId,\r\n            props.txTimeout,\r\n            props.connection,\r\n            true,\r\n          );\r\n\r\n          metadataStatus =\r\n            await candyMachine.program.provider.connection.getAccountInfo(\r\n              mintResult.metadataKey,\r\n              'processed',\r\n            );\r\n          console.log('Metadata status: ', !!metadataStatus);\r\n        }\r\n\r\n        if (status && !status.err && metadataStatus) {\r\n          // manual update since the refresh might not detect\r\n          // the change immediately\r\n          let remaining = itemsRemaining! - 1;\r\n          setItemsRemaining(remaining);\r\n          setIsActive((candyMachine.state.isActive = remaining > 0));\r\n          candyMachine.state.isSoldOut = remaining === 0;\r\n          setSetupTxn(undefined);\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Congratulations! Mint succeeded!',\r\n            severity: 'success',\r\n            hideDuration: 7000,\r\n          });\r\n          refreshCandyMachineState('processed');\r\n        } else if (status && !status.err) {\r\n          setAlertState({\r\n            open: true,\r\n            message:\r\n              'Mint likely failed! Anti-bot SOL 0.01 fee potentially charged! Check the explorer to confirm the mint failed and if so, make sure you are eligible to mint before trying again.',\r\n            severity: 'error',\r\n            hideDuration: 8000,\r\n          });\r\n          refreshCandyMachineState();\r\n        } else {\r\n          setAlertState({\r\n            open: true,\r\n            message: 'Mint failed! Please try again!',\r\n            severity: 'error',\r\n          });\r\n          refreshCandyMachineState();\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      let message = error.msg || 'Minting failed! Please try again!';\r\n      if (!error.msg) {\r\n        if (!error.message) {\r\n          message = 'Transaction timeout! Please try again.';\r\n        } else if (error.message.indexOf('0x137')) {\r\n          console.log(error);\r\n          message = `SOLD OUT!`;\r\n        } else if (error.message.indexOf('0x135')) {\r\n          message = `Insufficient funds to mint. Please fund your wallet.`;\r\n        }\r\n      } else {\r\n        if (error.code === 311) {\r\n          console.log(error);\r\n          message = `SOLD OUT!`;\r\n          window.location.reload();\r\n        } else if (error.code === 312) {\r\n          message = `Minting period hasn't started yet.`;\r\n        }\r\n      }\r\n\r\n      setAlertState({\r\n        open: true,\r\n        message,\r\n        severity: 'error',\r\n      });\r\n      // updates the candy machine state to reflect the latest\r\n      // information on chain\r\n      refreshCandyMachineState();\r\n    } finally {\r\n      setIsUserMinting(false);\r\n    }\r\n  };\r\n\r\n  const toggleMintButton = () => {\r\n    let active = !isActive || isPresale;\r\n\r\n    if (active) {\r\n      if (candyMachine!.state.isWhitelistOnly && !isWhitelistUser) {\r\n        active = false;\r\n      }\r\n      if (endDate && Date.now() >= endDate.getTime()) {\r\n        active = false;\r\n      }\r\n    }\r\n\r\n    if (\r\n      isPresale &&\r\n      candyMachine!.state.goLiveDate &&\r\n      candyMachine!.state.goLiveDate.toNumber() <= new Date().getTime() / 1000\r\n    ) {\r\n      setIsPresale((candyMachine!.state.isPresale = false));\r\n    }\r\n\r\n    setIsActive((candyMachine!.state.isActive = active));\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshCandyMachineState();\r\n  }, [\r\n    anchorWallet,\r\n    props.candyMachineId,\r\n    props.connection,\r\n    refreshCandyMachineState,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    (function loop() {\r\n      setTimeout(() => {\r\n        refreshCandyMachineState();\r\n        loop();\r\n      }, 20000);\r\n    })();\r\n  }, [refreshCandyMachineState]);\r\n\r\n  return (\r\n    <Container style={{ marginTop: 100 }}>\r\n      <Container maxWidth=\"xs\" style={{ position: 'relative' }}>\r\n        <Paper\r\n          style={{\r\n            padding: 24,\r\n            paddingBottom: 10,\r\n            backgroundColor: '#151A1F',\r\n            borderRadius: 6,\r\n          }}\r\n        >\r\n          {!wallet.connected ? (\r\n            <ConnectButton>Connect Wallet</ConnectButton>\r\n          ) : (\r\n            <>\r\n              {candyMachine && (\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justifyContent=\"center\"\r\n                  wrap=\"nowrap\"\r\n                >\r\n                  <Grid item xs={3}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                      Remaining\r\n                    </Typography>\r\n                    <Typography\r\n                      variant=\"h6\"\r\n                      color=\"textPrimary\"\r\n                      style={{\r\n                        fontWeight: 'bold',\r\n                      }}\r\n                    >\r\n                      {`${itemsRemaining}`}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={4}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">\r\n                      {isWhitelistUser && discountPrice\r\n                        ? 'Discount Price'\r\n                        : 'Price'}\r\n                    </Typography>\r\n                    <Typography\r\n                      variant=\"h6\"\r\n                      color=\"textPrimary\"\r\n                      style={{ fontWeight: 'bold' }}\r\n                    >\r\n                      {isWhitelistUser && discountPrice\r\n                        ? `◎ ${formatNumber.asNumber(discountPrice)}`\r\n                        : `◎ ${formatNumber.asNumber(\r\n                            candyMachine.state.price,\r\n                          )}`}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={5}>\r\n                    {isActive && endDate && Date.now() < endDate.getTime() ? (\r\n                      <>\r\n                        <MintCountdown\r\n                          key=\"endSettings\"\r\n                          date={getCountdownDate(candyMachine)}\r\n                          style={{ justifyContent: 'flex-end' }}\r\n                          status=\"COMPLETED\"\r\n                          onComplete={toggleMintButton}\r\n                        />\r\n                        <Typography\r\n                          variant=\"caption\"\r\n                          align=\"center\"\r\n                          display=\"block\"\r\n                          style={{ fontWeight: 'bold' }}\r\n                        >\r\n                          TO END OF MINT\r\n                        </Typography>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <MintCountdown\r\n                          key=\"goLive\"\r\n                          date={getCountdownDate(candyMachine)}\r\n                          style={{ justifyContent: 'flex-end' }}\r\n                          status={\r\n                            candyMachine?.state?.isSoldOut ||\r\n                            (endDate && Date.now() > endDate.getTime())\r\n                              ? 'COMPLETED'\r\n                              : isPresale\r\n                              ? 'PRESALE'\r\n                              : 'LIVE'\r\n                          }\r\n                          onComplete={toggleMintButton}\r\n                        />\r\n                        {isPresale &&\r\n                          candyMachine.state.goLiveDate &&\r\n                          candyMachine.state.goLiveDate.toNumber() >\r\n                            new Date().getTime() / 1000 && (\r\n                            <Typography\r\n                              variant=\"caption\"\r\n                              align=\"center\"\r\n                              display=\"block\"\r\n                              style={{ fontWeight: 'bold' }}\r\n                            >\r\n                              UNTIL PUBLIC MINT\r\n                            </Typography>\r\n                          )}\r\n                      </>\r\n                    )}\r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n              <MintContainer>\r\n                {candyMachine?.state.isActive &&\r\n                candyMachine?.state.gatekeeper &&\r\n                wallet.publicKey &&\r\n                wallet.signTransaction ? (\r\n                  <GatewayProvider\r\n                    wallet={{\r\n                      publicKey:\r\n                        wallet.publicKey ||\r\n                        new PublicKey(CANDY_MACHINE_PROGRAM),\r\n                      //@ts-ignore\r\n                      signTransaction: wallet.signTransaction,\r\n                    }}\r\n                    gatekeeperNetwork={\r\n                      candyMachine?.state?.gatekeeper?.gatekeeperNetwork\r\n                    }\r\n                    clusterUrl={\r\n                      props.network === WalletAdapterNetwork.Devnet\r\n                        ? 'https://api.devnet.solana.com'\r\n                        : rpcUrl\r\n                    }\r\n                    handleTransaction={async (transaction: Transaction) => {\r\n                      setIsUserMinting(true);\r\n                      const userMustSign = transaction.signatures.find(sig =>\r\n                        sig.publicKey.equals(wallet.publicKey!),\r\n                      );\r\n                      if (userMustSign) {\r\n                        setAlertState({\r\n                          open: true,\r\n                          message: 'Please sign one-time Civic Pass issuance',\r\n                          severity: 'info',\r\n                        });\r\n                        try {\r\n                          transaction = await wallet.signTransaction!(\r\n                            transaction,\r\n                          );\r\n                        } catch (e) {\r\n                          setAlertState({\r\n                            open: true,\r\n                            message: 'User cancelled signing',\r\n                            severity: 'error',\r\n                          });\r\n                          // setTimeout(() => window.location.reload(), 2000);\r\n                          setIsUserMinting(false);\r\n                          throw e;\r\n                        }\r\n                      } else {\r\n                        setAlertState({\r\n                          open: true,\r\n                          message: 'Refreshing Civic Pass',\r\n                          severity: 'info',\r\n                        });\r\n                      }\r\n                      try {\r\n                        await sendTransaction(\r\n                          props.connection,\r\n                          wallet,\r\n                          transaction,\r\n                          [],\r\n                          true,\r\n                          'confirmed',\r\n                        );\r\n                        setAlertState({\r\n                          open: true,\r\n                          message: 'Please sign minting',\r\n                          severity: 'info',\r\n                        });\r\n                      } catch (e) {\r\n                        setAlertState({\r\n                          open: true,\r\n                          message:\r\n                            'Solana dropped the transaction, please try again',\r\n                          severity: 'warning',\r\n                        });\r\n                        console.error(e);\r\n                        // setTimeout(() => window.location.reload(), 2000);\r\n                        setIsUserMinting(false);\r\n                        throw e;\r\n                      }\r\n                      await onMint();\r\n                    }}\r\n                    broadcastTransaction={false}\r\n                    options={{ autoShowModal: false }}\r\n                  >\r\n                    <MintButton\r\n                      candyMachine={candyMachine}\r\n                      isMinting={isUserMinting}\r\n                      setIsMinting={val => setIsUserMinting(val)}\r\n                      onMint={onMint}\r\n                      isActive={\r\n                        isActive ||\r\n                        (isPresale && isWhitelistUser && isValidBalance)\r\n                      }\r\n                    />\r\n                  </GatewayProvider>\r\n                ) : (\r\n                  <MintButton\r\n                    candyMachine={candyMachine}\r\n                    isMinting={isUserMinting}\r\n                    setIsMinting={val => setIsUserMinting(val)}\r\n                    onMint={onMint}\r\n                    isActive={\r\n                      isActive ||\r\n                      (isPresale && isWhitelistUser && isValidBalance)\r\n                    }\r\n                  />\r\n                )}\r\n              </MintContainer>\r\n            </>\r\n          )}\r\n          <Typography\r\n            variant=\"caption\"\r\n            align=\"center\"\r\n            display=\"block\"\r\n            style={{ marginTop: 7, color: 'grey' }}\r\n          >\r\n            Powered by METAPLEX\r\n          </Typography>\r\n        </Paper>\r\n      </Container>\r\n\r\n      <Snackbar\r\n        open={alertState.open}\r\n        autoHideDuration={\r\n          alertState.hideDuration === undefined ? 6000 : alertState.hideDuration\r\n        }\r\n        onClose={() => setAlertState({ ...alertState, open: false })}\r\n      >\r\n        <Alert\r\n          onClose={() => setAlertState({ ...alertState, open: false })}\r\n          severity={alertState.severity}\r\n        >\r\n          {alertState.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst getCountdownDate = (\r\n  candyMachine: CandyMachineAccount,\r\n): Date | undefined => {\r\n  if (\r\n    candyMachine.state.isActive &&\r\n    candyMachine.state.endSettings?.endSettingType.date\r\n  ) {\r\n    return toDate(candyMachine.state.endSettings.number);\r\n  }\r\n\r\n  return toDate(\r\n    candyMachine.state.goLiveDate\r\n      ? candyMachine.state.goLiveDate\r\n      : candyMachine.state.isPresale\r\n      ? new anchor.BN(new Date().getTime() / 1000)\r\n      : undefined,\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import './App.css';\r\nimport { useMemo } from 'react';\r\nimport * as anchor from '@project-serum/anchor';\r\nimport Home from './Home';\r\nimport { DEFAULT_TIMEOUT } from './connection';\r\nimport { clusterApiUrl } from '@solana/web3.js';\r\nimport { WalletAdapterNetwork } from '@solana/wallet-adapter-base';\r\nimport {\r\n  getPhantomWallet,\r\n  getSlopeWallet,\r\n  getSolflareWallet,\r\n  getSolletWallet,\r\n  getSolletExtensionWallet,\r\n} from '@solana/wallet-adapter-wallets';\r\n\r\nimport {\r\n  ConnectionProvider,\r\n  WalletProvider,\r\n} from '@solana/wallet-adapter-react';\r\nimport { WalletDialogProvider } from '@solana/wallet-adapter-material-ui';\r\n\r\nimport { ThemeProvider, createTheme } from '@material-ui/core';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n  },\r\n});\r\n\r\nconst getCandyMachineId = (): anchor.web3.PublicKey | undefined => {\r\n  try {\r\n    const candyMachineId = new anchor.web3.PublicKey(\r\n      process.env.REACT_APP_CANDY_MACHINE_ID!,\r\n    );\r\n\r\n    return candyMachineId;\r\n  } catch (e) {\r\n    console.log('Failed to construct CandyMachineId', e);\r\n    return undefined;\r\n  }\r\n};\r\n\r\nconst candyMachineId = getCandyMachineId();\r\nconst network = process.env.REACT_APP_SOLANA_NETWORK as WalletAdapterNetwork;\r\nconst rpcHost = process.env.REACT_APP_SOLANA_RPC_HOST!;\r\nconst connection = new anchor.web3.Connection(\r\n  rpcHost ? rpcHost : anchor.web3.clusterApiUrl('devnet'),\r\n);\r\n\r\nconst App = () => {\r\n  const endpoint = useMemo(() => clusterApiUrl(network), []);\r\n\r\n  const wallets = useMemo(\r\n    () => [\r\n      getPhantomWallet(),\r\n      getSolflareWallet(),\r\n      getSlopeWallet(),\r\n      getSolletWallet({ network }),\r\n      getSolletExtensionWallet({ network }),\r\n    ],\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ConnectionProvider endpoint={endpoint}>\r\n        <WalletProvider wallets={wallets} autoConnect>\r\n          <WalletDialogProvider>\r\n            <Home\r\n              candyMachineId={candyMachineId}\r\n              connection={connection}\r\n              txTimeout={DEFAULT_TIMEOUT}\r\n              rpcHost={rpcHost}\r\n              network={network}\r\n            />\r\n          </WalletDialogProvider>\r\n        </WalletProvider>\r\n      </ConnectionProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import * as anchor from '@project-serum/anchor';\r\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\r\nimport { SystemProgram } from '@solana/web3.js';\r\nimport {\r\n  LAMPORTS_PER_SOL,\r\n  SYSVAR_RENT_PUBKEY,\r\n  TransactionInstruction,\r\n} from '@solana/web3.js';\r\n\r\nexport interface AlertState {\r\n  open: boolean;\r\n  message: string;\r\n  severity: 'success' | 'info' | 'warning' | 'error' | undefined;\r\n  hideDuration?: number | null;\r\n}\r\n\r\nexport const toDate = (value?: anchor.BN) => {\r\n  if (!value) {\r\n    return;\r\n  }\r\n\r\n  return new Date(value.toNumber() * 1000);\r\n};\r\n\r\nconst numberFormater = new Intl.NumberFormat('en-US', {\r\n  style: 'decimal',\r\n  minimumFractionDigits: 2,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport const formatNumber = {\r\n  format: (val?: number) => {\r\n    if (!val) {\r\n      return '--';\r\n    }\r\n\r\n    return numberFormater.format(val);\r\n  },\r\n  asNumber: (val?: anchor.BN) => {\r\n    if (!val) {\r\n      return undefined;\r\n    }\r\n\r\n    return val.toNumber() / LAMPORTS_PER_SOL;\r\n  },\r\n};\r\n\r\nexport const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID =\r\n  new anchor.web3.PublicKey('ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL');\r\n\r\nexport const CIVIC = new anchor.web3.PublicKey(\r\n  'gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs',\r\n);\r\n\r\nexport const getAtaForMint = async (\r\n  mint: anchor.web3.PublicKey,\r\n  buyer: anchor.web3.PublicKey,\r\n): Promise<[anchor.web3.PublicKey, number]> => {\r\n  return await anchor.web3.PublicKey.findProgramAddress(\r\n    [buyer.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\r\n    SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\r\n  );\r\n};\r\n\r\nexport const getNetworkExpire = async (\r\n  gatekeeperNetwork: anchor.web3.PublicKey,\r\n): Promise<[anchor.web3.PublicKey, number]> => {\r\n  return await anchor.web3.PublicKey.findProgramAddress(\r\n    [gatekeeperNetwork.toBuffer(), Buffer.from('expire')],\r\n    CIVIC,\r\n  );\r\n};\r\n\r\nexport const getNetworkToken = async (\r\n  wallet: anchor.web3.PublicKey,\r\n  gatekeeperNetwork: anchor.web3.PublicKey,\r\n): Promise<[anchor.web3.PublicKey, number]> => {\r\n  return await anchor.web3.PublicKey.findProgramAddress(\r\n    [\r\n      wallet.toBuffer(),\r\n      Buffer.from('gateway'),\r\n      Buffer.from([0, 0, 0, 0, 0, 0, 0, 0]),\r\n      gatekeeperNetwork.toBuffer(),\r\n    ],\r\n    CIVIC,\r\n  );\r\n};\r\n\r\nexport function createAssociatedTokenAccountInstruction(\r\n  associatedTokenAddress: anchor.web3.PublicKey,\r\n  payer: anchor.web3.PublicKey,\r\n  walletAddress: anchor.web3.PublicKey,\r\n  splTokenMintAddress: anchor.web3.PublicKey,\r\n) {\r\n  const keys = [\r\n    {\r\n      pubkey: payer,\r\n      isSigner: true,\r\n      isWritable: true,\r\n    },\r\n    {\r\n      pubkey: associatedTokenAddress,\r\n      isSigner: false,\r\n      isWritable: true,\r\n    },\r\n    {\r\n      pubkey: walletAddress,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    {\r\n      pubkey: splTokenMintAddress,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    {\r\n      pubkey: SystemProgram.programId,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    {\r\n      pubkey: TOKEN_PROGRAM_ID,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    {\r\n      pubkey: SYSVAR_RENT_PUBKEY,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n  ];\r\n  return new TransactionInstruction({\r\n    keys,\r\n    programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\r\n    data: Buffer.from([]),\r\n  });\r\n}\r\n","import {\r\n  Keypair,\r\n  Commitment,\r\n  Connection,\r\n  RpcResponseAndContext,\r\n  SignatureStatus,\r\n  SimulatedTransactionResponse,\r\n  Transaction,\r\n  TransactionInstruction,\r\n  TransactionSignature,\r\n  Blockhash,\r\n  FeeCalculator,\r\n} from '@solana/web3.js';\r\n\r\nimport { WalletNotConnectedError } from '@solana/wallet-adapter-base';\r\n\r\ninterface BlockhashAndFeeCalculator {\r\n  blockhash: Blockhash;\r\n  feeCalculator: FeeCalculator;\r\n}\r\n\r\nexport const DEFAULT_TIMEOUT = 60000;\r\n\r\nexport const getErrorForTransaction = async (\r\n  connection: Connection,\r\n  txid: string,\r\n) => {\r\n  // wait for all confirmation before geting transaction\r\n  await connection.confirmTransaction(txid, 'max');\r\n\r\n  const tx = await connection.getParsedConfirmedTransaction(txid);\r\n\r\n  const errors: string[] = [];\r\n  if (tx?.meta && tx.meta.logMessages) {\r\n    tx.meta.logMessages.forEach(log => {\r\n      const regex = /Error: (.*)/gm;\r\n      let m;\r\n      while ((m = regex.exec(log)) !== null) {\r\n        // This is necessary to avoid infinite loops with zero-width matches\r\n        if (m.index === regex.lastIndex) {\r\n          regex.lastIndex++;\r\n        }\r\n\r\n        if (m.length > 1) {\r\n          errors.push(m[1]);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport enum SequenceType {\r\n  Sequential,\r\n  Parallel,\r\n  StopOnFailure,\r\n}\r\n\r\nexport async function sendTransactionsWithManualRetry(\r\n  connection: Connection,\r\n  wallet: any,\r\n  instructions: TransactionInstruction[][],\r\n  signers: Keypair[][],\r\n): Promise<(string | undefined)[]> {\r\n  let stopPoint = 0;\r\n  let tries = 0;\r\n  let lastInstructionsLength = null;\r\n  let toRemoveSigners: Record<number, boolean> = {};\r\n  instructions = instructions.filter((instr, i) => {\r\n    if (instr.length > 0) {\r\n      return true;\r\n    } else {\r\n      toRemoveSigners[i] = true;\r\n      return false;\r\n    }\r\n  });\r\n  let ids: string[] = [];\r\n  let filteredSigners = signers.filter((_, i) => !toRemoveSigners[i]);\r\n\r\n  while (stopPoint < instructions.length && tries < 3) {\r\n    instructions = instructions.slice(stopPoint, instructions.length);\r\n    filteredSigners = filteredSigners.slice(stopPoint, filteredSigners.length);\r\n\r\n    if (instructions.length === lastInstructionsLength) tries = tries + 1;\r\n    else tries = 0;\r\n\r\n    try {\r\n      if (instructions.length === 1) {\r\n        const id = await sendTransactionWithRetry(\r\n          connection,\r\n          wallet,\r\n          instructions[0],\r\n          filteredSigners[0],\r\n          'single',\r\n        );\r\n        ids.push(id.txid);\r\n        stopPoint = 1;\r\n      } else {\r\n        const { txs } = await sendTransactions(\r\n          connection,\r\n          wallet,\r\n          instructions,\r\n          filteredSigners,\r\n          SequenceType.StopOnFailure,\r\n          'single',\r\n        );\r\n        ids = ids.concat(txs.map(t => t.txid));\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n    console.log(\r\n      'Died on ',\r\n      stopPoint,\r\n      'retrying from instruction',\r\n      instructions[stopPoint],\r\n      'instructions length is',\r\n      instructions.length,\r\n    );\r\n    lastInstructionsLength = instructions.length;\r\n  }\r\n\r\n  return ids;\r\n}\r\n\r\nexport const sendTransactions = async (\r\n  connection: Connection,\r\n  wallet: any,\r\n  instructionSet: TransactionInstruction[][],\r\n  signersSet: Keypair[][],\r\n  sequenceType: SequenceType = SequenceType.Parallel,\r\n  commitment: Commitment = 'singleGossip',\r\n  successCallback: (txid: string, ind: number) => void = (txid, ind) => {},\r\n  failCallback: (reason: string, ind: number) => boolean = (txid, ind) => false,\r\n  block?: BlockhashAndFeeCalculator,\r\n  beforeTransactions: Transaction[] = [],\r\n  afterTransactions: Transaction[] = [],\r\n): Promise<{ number: number; txs: { txid: string; slot: number }[] }> => {\r\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\r\n\r\n  const unsignedTxns: Transaction[] = beforeTransactions;\r\n\r\n  if (!block) {\r\n    block = await connection.getRecentBlockhash(commitment);\r\n  }\r\n\r\n  for (let i = 0; i < instructionSet.length; i++) {\r\n    const instructions = instructionSet[i];\r\n    const signers = signersSet[i];\r\n\r\n    if (instructions.length === 0) {\r\n      continue;\r\n    }\r\n\r\n    let transaction = new Transaction();\r\n    instructions.forEach(instruction => transaction.add(instruction));\r\n    transaction.recentBlockhash = block.blockhash;\r\n    transaction.setSigners(\r\n      // fee payed by the wallet owner\r\n      wallet.publicKey,\r\n      ...signers.map(s => s.publicKey),\r\n    );\r\n\r\n    if (signers.length > 0) {\r\n      transaction.partialSign(...signers);\r\n    }\r\n\r\n    unsignedTxns.push(transaction);\r\n  }\r\n  unsignedTxns.push(...afterTransactions);\r\n\r\n  const partiallySignedTransactions = unsignedTxns.filter(t =>\r\n    t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\r\n  );\r\n  const fullySignedTransactions = unsignedTxns.filter(\r\n    t => !t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\r\n  );\r\n  let signedTxns = await wallet.signAllTransactions(\r\n    partiallySignedTransactions,\r\n  );\r\n  signedTxns = fullySignedTransactions.concat(signedTxns);\r\n  const pendingTxns: Promise<{ txid: string; slot: number }>[] = [];\r\n\r\n  console.log(\r\n    'Signed txns length',\r\n    signedTxns.length,\r\n    'vs handed in length',\r\n    instructionSet.length,\r\n  );\r\n  for (let i = 0; i < signedTxns.length; i++) {\r\n    const signedTxnPromise = sendSignedTransaction({\r\n      connection,\r\n      signedTransaction: signedTxns[i],\r\n    });\r\n\r\n    if (sequenceType !== SequenceType.Parallel) {\r\n      try {\r\n        await signedTxnPromise.then(({ txid, slot }) =>\r\n          successCallback(txid, i),\r\n        );\r\n        pendingTxns.push(signedTxnPromise);\r\n      } catch (e) {\r\n        console.log('Failed at txn index:', i);\r\n        console.log('Caught failure:', e);\r\n\r\n        failCallback(signedTxns[i], i);\r\n        if (sequenceType === SequenceType.StopOnFailure) {\r\n          return {\r\n            number: i,\r\n            txs: await Promise.all(pendingTxns),\r\n          };\r\n        }\r\n      }\r\n    } else {\r\n      pendingTxns.push(signedTxnPromise);\r\n    }\r\n  }\r\n\r\n  if (sequenceType !== SequenceType.Parallel) {\r\n    const result = await Promise.all(pendingTxns);\r\n    return { number: signedTxns.length, txs: result };\r\n  }\r\n\r\n  return { number: signedTxns.length, txs: await Promise.all(pendingTxns) };\r\n};\r\n\r\nexport const sendTransaction = async (\r\n  connection: Connection,\r\n  wallet: any,\r\n  instructions: TransactionInstruction[] | Transaction,\r\n  signers: Keypair[],\r\n  awaitConfirmation = true,\r\n  commitment: Commitment = 'singleGossip',\r\n  includesFeePayer: boolean = false,\r\n  block?: BlockhashAndFeeCalculator,\r\n) => {\r\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\r\n\r\n  let transaction: Transaction;\r\n  if (instructions instanceof Transaction) {\r\n    transaction = instructions;\r\n  } else {\r\n    transaction = new Transaction();\r\n    instructions.forEach(instruction => transaction.add(instruction));\r\n    transaction.recentBlockhash = (\r\n      block || (await connection.getRecentBlockhash(commitment))\r\n    ).blockhash;\r\n\r\n    if (includesFeePayer) {\r\n      transaction.setSigners(...signers.map(s => s.publicKey));\r\n    } else {\r\n      transaction.setSigners(\r\n        // fee payed by the wallet owner\r\n        wallet.publicKey,\r\n        ...signers.map(s => s.publicKey),\r\n      );\r\n    }\r\n\r\n    if (signers.length > 0) {\r\n      transaction.partialSign(...signers);\r\n    }\r\n    if (!includesFeePayer) {\r\n      transaction = await wallet.signTransaction(transaction);\r\n    }\r\n  }\r\n\r\n  const rawTransaction = transaction.serialize();\r\n  let options = {\r\n    skipPreflight: true,\r\n    commitment,\r\n  };\r\n\r\n  const txid = await connection.sendRawTransaction(rawTransaction, options);\r\n  let slot = 0;\r\n\r\n  if (awaitConfirmation) {\r\n    const confirmation = await awaitTransactionSignatureConfirmation(\r\n      txid,\r\n      DEFAULT_TIMEOUT,\r\n      connection,\r\n      commitment,\r\n    );\r\n\r\n    if (!confirmation)\r\n      throw new Error('Timed out awaiting confirmation on transaction');\r\n    slot = confirmation?.slot || 0;\r\n\r\n    if (confirmation?.err) {\r\n      const errors = await getErrorForTransaction(connection, txid);\r\n\r\n      console.log(errors);\r\n      throw new Error(`Raw transaction ${txid} failed`);\r\n    }\r\n  }\r\n\r\n  return { txid, slot };\r\n};\r\n\r\nexport const sendTransactionWithRetry = async (\r\n  connection: Connection,\r\n  wallet: any,\r\n  instructions: TransactionInstruction[],\r\n  signers: Keypair[],\r\n  commitment: Commitment = 'singleGossip',\r\n  includesFeePayer: boolean = false,\r\n  block?: BlockhashAndFeeCalculator,\r\n  beforeSend?: () => void,\r\n) => {\r\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\r\n\r\n  let transaction = new Transaction();\r\n  instructions.forEach(instruction => transaction.add(instruction));\r\n  transaction.recentBlockhash = (\r\n    block || (await connection.getRecentBlockhash(commitment))\r\n  ).blockhash;\r\n\r\n  if (includesFeePayer) {\r\n    transaction.setSigners(...signers.map(s => s.publicKey));\r\n  } else {\r\n    transaction.setSigners(\r\n      // fee payed by the wallet owner\r\n      wallet.publicKey,\r\n      ...signers.map(s => s.publicKey),\r\n    );\r\n  }\r\n\r\n  if (signers.length > 0) {\r\n    transaction.partialSign(...signers);\r\n  }\r\n  if (!includesFeePayer) {\r\n    transaction = await wallet.signTransaction(transaction);\r\n  }\r\n\r\n  if (beforeSend) {\r\n    beforeSend();\r\n  }\r\n\r\n  const { txid, slot } = await sendSignedTransaction({\r\n    connection,\r\n    signedTransaction: transaction,\r\n  });\r\n\r\n  return { txid, slot };\r\n};\r\n\r\nexport const getUnixTs = () => {\r\n  return new Date().getTime() / 1000;\r\n};\r\n\r\nexport async function sendSignedTransaction({\r\n  signedTransaction,\r\n  connection,\r\n  timeout = DEFAULT_TIMEOUT,\r\n}: {\r\n  signedTransaction: Transaction;\r\n  connection: Connection;\r\n  sendingMessage?: string;\r\n  sentMessage?: string;\r\n  successMessage?: string;\r\n  timeout?: number;\r\n}): Promise<{ txid: string; slot: number }> {\r\n  const rawTransaction = signedTransaction.serialize();\r\n\r\n  const startTime = getUnixTs();\r\n  let slot = 0;\r\n  const txid: TransactionSignature = await connection.sendRawTransaction(\r\n    rawTransaction,\r\n    {\r\n      skipPreflight: true,\r\n    },\r\n  );\r\n\r\n  console.log('Started awaiting confirmation for', txid);\r\n\r\n  let done = false;\r\n  (async () => {\r\n    while (!done && getUnixTs() - startTime < timeout) {\r\n      connection.sendRawTransaction(rawTransaction, {\r\n        skipPreflight: true,\r\n      });\r\n      await sleep(500);\r\n    }\r\n  })();\r\n  try {\r\n    const confirmation = await awaitTransactionSignatureConfirmation(\r\n      txid,\r\n      timeout,\r\n      connection,\r\n      'recent',\r\n      true,\r\n    );\r\n\r\n    if (!confirmation)\r\n      throw new Error('Timed out awaiting confirmation on transaction');\r\n\r\n    if (confirmation.err) {\r\n      console.error(confirmation.err);\r\n      throw new Error('Transaction failed: Custom instruction error');\r\n    }\r\n\r\n    slot = confirmation?.slot || 0;\r\n  } catch (err: any) {\r\n    console.error('Timeout Error caught', err);\r\n    if (err.timeout) {\r\n      throw new Error('Timed out awaiting confirmation on transaction');\r\n    }\r\n    let simulateResult: SimulatedTransactionResponse | null = null;\r\n    try {\r\n      simulateResult = (\r\n        await simulateTransaction(connection, signedTransaction, 'single')\r\n      ).value;\r\n    } catch (e) {}\r\n    if (simulateResult && simulateResult.err) {\r\n      if (simulateResult.logs) {\r\n        for (let i = simulateResult.logs.length - 1; i >= 0; --i) {\r\n          const line = simulateResult.logs[i];\r\n          if (line.startsWith('Program log: ')) {\r\n            throw new Error(\r\n              'Transaction failed: ' + line.slice('Program log: '.length),\r\n            );\r\n          }\r\n        }\r\n      }\r\n      throw new Error(JSON.stringify(simulateResult.err));\r\n    }\r\n    // throw new Error('Transaction failed');\r\n  } finally {\r\n    done = true;\r\n  }\r\n\r\n  console.log('Latency', txid, getUnixTs() - startTime);\r\n  return { txid, slot };\r\n}\r\n\r\nasync function simulateTransaction(\r\n  connection: Connection,\r\n  transaction: Transaction,\r\n  commitment: Commitment,\r\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\r\n  // @ts-ignore\r\n  transaction.recentBlockhash = await connection._recentBlockhash(\r\n    // @ts-ignore\r\n    connection._disableBlockhashCaching,\r\n  );\r\n\r\n  const signData = transaction.serializeMessage();\r\n  // @ts-ignore\r\n  const wireTransaction = transaction._serialize(signData);\r\n  const encodedTransaction = wireTransaction.toString('base64');\r\n  const config: any = { encoding: 'base64', commitment };\r\n  const args = [encodedTransaction, config];\r\n\r\n  // @ts-ignore\r\n  const res = await connection._rpcRequest('simulateTransaction', args);\r\n  if (res.error) {\r\n    throw new Error('failed to simulate transaction: ' + res.error.message);\r\n  }\r\n  return res.result;\r\n}\r\n\r\nasync function awaitTransactionSignatureConfirmation(\r\n  txid: TransactionSignature,\r\n  timeout: number,\r\n  connection: Connection,\r\n  commitment: Commitment = 'recent',\r\n  queryStatus = false,\r\n): Promise<SignatureStatus | null | void> {\r\n  let done = false;\r\n  let status: SignatureStatus | null | void = {\r\n    slot: 0,\r\n    confirmations: 0,\r\n    err: null,\r\n  };\r\n  let subId = 0;\r\n  status = await new Promise(async (resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (done) {\r\n        return;\r\n      }\r\n      done = true;\r\n      console.log('Rejecting for timeout...');\r\n      reject({ timeout: true });\r\n    }, timeout);\r\n    try {\r\n      subId = connection.onSignature(\r\n        txid,\r\n        (result, context) => {\r\n          done = true;\r\n          status = {\r\n            err: result.err,\r\n            slot: context.slot,\r\n            confirmations: 0,\r\n          };\r\n          if (result.err) {\r\n            console.log('Rejected via websocket', result.err);\r\n            reject(status);\r\n          } else {\r\n            console.log('Resolved via websocket', result);\r\n            resolve(status);\r\n          }\r\n        },\r\n        commitment,\r\n      );\r\n    } catch (e) {\r\n      done = true;\r\n      console.error('WS error in setup', txid, e);\r\n    }\r\n    while (!done && queryStatus) {\r\n      // eslint-disable-next-line no-loop-func\r\n      (async () => {\r\n        try {\r\n          const signatureStatuses = await connection.getSignatureStatuses([\r\n            txid,\r\n          ]);\r\n          status = signatureStatuses && signatureStatuses.value[0];\r\n          if (!done) {\r\n            if (!status) {\r\n              console.log('REST null result for', txid, status);\r\n            } else if (status.err) {\r\n              console.log('REST error for', txid, status);\r\n              done = true;\r\n              reject(status.err);\r\n            } else if (!status.confirmations) {\r\n              console.log('REST no confirmations for', txid, status);\r\n            } else {\r\n              console.log('REST confirmation for', txid, status);\r\n              done = true;\r\n              resolve(status);\r\n            }\r\n          }\r\n        } catch (e) {\r\n          if (!done) {\r\n            console.log('REST connection error: txid', txid, e);\r\n          }\r\n        }\r\n      })();\r\n      await sleep(2000);\r\n    }\r\n  });\r\n\r\n  //@ts-ignore\r\n  if (connection._signatureSubscriptions[subId])\r\n    connection.removeSignatureListener(subId);\r\n  done = true;\r\n  console.log('Returning status', status);\r\n  return status;\r\n}\r\nexport function sleep(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n","import * as anchor from '@project-serum/anchor';\r\n\r\nimport { MintLayout, TOKEN_PROGRAM_ID, Token } from '@solana/spl-token';\r\nimport {\r\n  SystemProgram,\r\n  Transaction,\r\n  SYSVAR_SLOT_HASHES_PUBKEY,\r\n} from '@solana/web3.js';\r\nimport { sendTransactions, SequenceType } from './connection';\r\n\r\nimport {\r\n  CIVIC,\r\n  getAtaForMint,\r\n  getNetworkExpire,\r\n  getNetworkToken,\r\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\r\n} from './utils';\r\n\r\nexport const CANDY_MACHINE_PROGRAM = new anchor.web3.PublicKey(\r\n  'cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ',\r\n);\r\n\r\nconst TOKEN_METADATA_PROGRAM_ID = new anchor.web3.PublicKey(\r\n  'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\r\n);\r\n\r\ninterface CandyMachineState {\r\n  authority: anchor.web3.PublicKey;\r\n  itemsAvailable: number;\r\n  itemsRedeemed: number;\r\n  itemsRemaining: number;\r\n  treasury: anchor.web3.PublicKey;\r\n  tokenMint: null | anchor.web3.PublicKey;\r\n  isSoldOut: boolean;\r\n  isActive: boolean;\r\n  isPresale: boolean;\r\n  isWhitelistOnly: boolean;\r\n  goLiveDate: anchor.BN;\r\n  price: anchor.BN;\r\n  gatekeeper: null | {\r\n    expireOnUse: boolean;\r\n    gatekeeperNetwork: anchor.web3.PublicKey;\r\n  };\r\n  endSettings: null | {\r\n    number: anchor.BN;\r\n    endSettingType: any;\r\n  };\r\n  whitelistMintSettings: null | {\r\n    mode: any;\r\n    mint: anchor.web3.PublicKey;\r\n    presale: boolean;\r\n    discountPrice: null | anchor.BN;\r\n  };\r\n  hiddenSettings: null | {\r\n    name: string;\r\n    uri: string;\r\n    hash: Uint8Array;\r\n  };\r\n  retainAuthority: boolean;\r\n}\r\n\r\nexport interface CandyMachineAccount {\r\n  id: anchor.web3.PublicKey;\r\n  program: anchor.Program;\r\n  state: CandyMachineState;\r\n}\r\n\r\nexport const awaitTransactionSignatureConfirmation = async (\r\n  txid: anchor.web3.TransactionSignature,\r\n  timeout: number,\r\n  connection: anchor.web3.Connection,\r\n  queryStatus = false,\r\n): Promise<anchor.web3.SignatureStatus | null | void> => {\r\n  let done = false;\r\n  let status: anchor.web3.SignatureStatus | null | void = {\r\n    slot: 0,\r\n    confirmations: 0,\r\n    err: null,\r\n  };\r\n  let subId = 0;\r\n  status = await new Promise(async (resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (done) {\r\n        return;\r\n      }\r\n      done = true;\r\n      console.log('Rejecting for timeout...');\r\n      reject({ timeout: true });\r\n    }, timeout);\r\n\r\n    while (!done && queryStatus) {\r\n      // eslint-disable-next-line no-loop-func\r\n      (async () => {\r\n        try {\r\n          const signatureStatuses = await connection.getSignatureStatuses([\r\n            txid,\r\n          ]);\r\n          status = signatureStatuses && signatureStatuses.value[0];\r\n          if (!done) {\r\n            if (!status) {\r\n              console.log('REST null result for', txid, status);\r\n            } else if (status.err) {\r\n              console.log('REST error for', txid, status);\r\n              done = true;\r\n              reject(status.err);\r\n            } else if (!status.confirmations) {\r\n              console.log('REST no confirmations for', txid, status);\r\n            } else {\r\n              console.log('REST confirmation for', txid, status);\r\n              done = true;\r\n              resolve(status);\r\n            }\r\n          }\r\n        } catch (e) {\r\n          if (!done) {\r\n            console.log('REST connection error: txid', txid, e);\r\n          }\r\n        }\r\n      })();\r\n      await sleep(2000);\r\n    }\r\n  });\r\n\r\n  //@ts-ignore\r\n  if (connection._signatureSubscriptions[subId]) {\r\n    connection.removeSignatureListener(subId);\r\n  }\r\n  done = true;\r\n  console.log('Returning status', status);\r\n  return status;\r\n};\r\n\r\nconst createAssociatedTokenAccountInstruction = (\r\n  associatedTokenAddress: anchor.web3.PublicKey,\r\n  payer: anchor.web3.PublicKey,\r\n  walletAddress: anchor.web3.PublicKey,\r\n  splTokenMintAddress: anchor.web3.PublicKey,\r\n) => {\r\n  const keys = [\r\n    { pubkey: payer, isSigner: true, isWritable: true },\r\n    { pubkey: associatedTokenAddress, isSigner: false, isWritable: true },\r\n    { pubkey: walletAddress, isSigner: false, isWritable: false },\r\n    { pubkey: splTokenMintAddress, isSigner: false, isWritable: false },\r\n    {\r\n      pubkey: anchor.web3.SystemProgram.programId,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n    { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },\r\n    {\r\n      pubkey: anchor.web3.SYSVAR_RENT_PUBKEY,\r\n      isSigner: false,\r\n      isWritable: false,\r\n    },\r\n  ];\r\n  return new anchor.web3.TransactionInstruction({\r\n    keys,\r\n    programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\r\n    data: Buffer.from([]),\r\n  });\r\n};\r\n\r\nexport const getCandyMachineState = async (\r\n  anchorWallet: anchor.Wallet,\r\n  candyMachineId: anchor.web3.PublicKey,\r\n  connection: anchor.web3.Connection,\r\n): Promise<CandyMachineAccount> => {\r\n  const provider = new anchor.Provider(connection, anchorWallet, {\r\n    preflightCommitment: 'processed',\r\n  });\r\n\r\n  const idl = await anchor.Program.fetchIdl(CANDY_MACHINE_PROGRAM, provider);\r\n\r\n  const program = new anchor.Program(idl!, CANDY_MACHINE_PROGRAM, provider);\r\n\r\n  const state: any = await program.account.candyMachine.fetch(candyMachineId);\r\n  const itemsAvailable = state.data.itemsAvailable.toNumber();\r\n  const itemsRedeemed = state.itemsRedeemed.toNumber();\r\n  const itemsRemaining = itemsAvailable - itemsRedeemed;\r\n\r\n  return {\r\n    id: candyMachineId,\r\n    program,\r\n    state: {\r\n      authority: state.authority,\r\n      itemsAvailable,\r\n      itemsRedeemed,\r\n      itemsRemaining,\r\n      isSoldOut: itemsRemaining === 0,\r\n      isActive: false,\r\n      isPresale: false,\r\n      isWhitelistOnly: false,\r\n      goLiveDate: state.data.goLiveDate,\r\n      treasury: state.wallet,\r\n      tokenMint: state.tokenMint,\r\n      gatekeeper: state.data.gatekeeper,\r\n      endSettings: state.data.endSettings,\r\n      whitelistMintSettings: state.data.whitelistMintSettings,\r\n      hiddenSettings: state.data.hiddenSettings,\r\n      price: state.data.price,\r\n      retainAuthority: state.data.retainAuthority,\r\n    },\r\n  };\r\n};\r\n\r\nconst getMasterEdition = async (\r\n  mint: anchor.web3.PublicKey,\r\n): Promise<anchor.web3.PublicKey> => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [\r\n        Buffer.from('metadata'),\r\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n        mint.toBuffer(),\r\n        Buffer.from('edition'),\r\n      ],\r\n      TOKEN_METADATA_PROGRAM_ID,\r\n    )\r\n  )[0];\r\n};\r\n\r\nconst getMetadata = async (\r\n  mint: anchor.web3.PublicKey,\r\n): Promise<anchor.web3.PublicKey> => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [\r\n        Buffer.from('metadata'),\r\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n        mint.toBuffer(),\r\n      ],\r\n      TOKEN_METADATA_PROGRAM_ID,\r\n    )\r\n  )[0];\r\n};\r\n\r\nexport const getCandyMachineCreator = async (\r\n  candyMachine: anchor.web3.PublicKey,\r\n): Promise<[anchor.web3.PublicKey, number]> => {\r\n  return await anchor.web3.PublicKey.findProgramAddress(\r\n    [Buffer.from('candy_machine'), candyMachine.toBuffer()],\r\n    CANDY_MACHINE_PROGRAM,\r\n  );\r\n};\r\n\r\nexport const getCollectionPDA = async (\r\n  candyMachineAddress: anchor.web3.PublicKey,\r\n): Promise<[anchor.web3.PublicKey, number]> => {\r\n  return await anchor.web3.PublicKey.findProgramAddress(\r\n    [Buffer.from('collection'), candyMachineAddress.toBuffer()],\r\n    CANDY_MACHINE_PROGRAM,\r\n  );\r\n};\r\n\r\nexport interface CollectionData {\r\n  mint: anchor.web3.PublicKey;\r\n  candyMachine: anchor.web3.PublicKey;\r\n}\r\n\r\nexport const getCollectionAuthorityRecordPDA = async (\r\n  mint: anchor.web3.PublicKey,\r\n  newAuthority: anchor.web3.PublicKey,\r\n): Promise<anchor.web3.PublicKey> => {\r\n  return (\r\n    await anchor.web3.PublicKey.findProgramAddress(\r\n      [\r\n        Buffer.from('metadata'),\r\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\r\n        mint.toBuffer(),\r\n        Buffer.from('collection_authority'),\r\n        newAuthority.toBuffer(),\r\n      ],\r\n      TOKEN_METADATA_PROGRAM_ID,\r\n    )\r\n  )[0];\r\n};\r\n\r\nexport type SetupState = {\r\n  mint: anchor.web3.Keypair;\r\n  userTokenAccount: anchor.web3.PublicKey;\r\n  transaction: string;\r\n};\r\n\r\nexport const createAccountsForMint = async (\r\n  candyMachine: CandyMachineAccount,\r\n  payer: anchor.web3.PublicKey,\r\n): Promise<SetupState> => {\r\n  const mint = anchor.web3.Keypair.generate();\r\n  const userTokenAccountAddress = (\r\n    await getAtaForMint(mint.publicKey, payer)\r\n  )[0];\r\n\r\n  const signers: anchor.web3.Keypair[] = [mint];\r\n  const instructions = [\r\n    anchor.web3.SystemProgram.createAccount({\r\n      fromPubkey: payer,\r\n      newAccountPubkey: mint.publicKey,\r\n      space: MintLayout.span,\r\n      lamports:\r\n        await candyMachine.program.provider.connection.getMinimumBalanceForRentExemption(\r\n          MintLayout.span,\r\n        ),\r\n      programId: TOKEN_PROGRAM_ID,\r\n    }),\r\n    Token.createInitMintInstruction(\r\n      TOKEN_PROGRAM_ID,\r\n      mint.publicKey,\r\n      0,\r\n      payer,\r\n      payer,\r\n    ),\r\n    createAssociatedTokenAccountInstruction(\r\n      userTokenAccountAddress,\r\n      payer,\r\n      payer,\r\n      mint.publicKey,\r\n    ),\r\n    Token.createMintToInstruction(\r\n      TOKEN_PROGRAM_ID,\r\n      mint.publicKey,\r\n      userTokenAccountAddress,\r\n      payer,\r\n      [],\r\n      1,\r\n    ),\r\n  ];\r\n\r\n  return {\r\n    mint: mint,\r\n    userTokenAccount: userTokenAccountAddress,\r\n    transaction: (\r\n      await sendTransactions(\r\n        candyMachine.program.provider.connection,\r\n        candyMachine.program.provider.wallet,\r\n        [instructions],\r\n        [signers],\r\n        SequenceType.StopOnFailure,\r\n        'singleGossip',\r\n        () => {},\r\n        () => false,\r\n        undefined,\r\n        [],\r\n        [],\r\n      )\r\n    ).txs[0].txid,\r\n  };\r\n};\r\n\r\ntype MintResult = {\r\n  mintTxId: string;\r\n  metadataKey: anchor.web3.PublicKey;\r\n};\r\n\r\nexport const mintOneToken = async (\r\n  candyMachine: CandyMachineAccount,\r\n  payer: anchor.web3.PublicKey,\r\n  beforeTransactions: Transaction[] = [],\r\n  afterTransactions: Transaction[] = [],\r\n  setupState?: SetupState,\r\n): Promise<MintResult | null> => {\r\n  const mint = setupState?.mint ?? anchor.web3.Keypair.generate();\r\n  const userTokenAccountAddress = (\r\n    await getAtaForMint(mint.publicKey, payer)\r\n  )[0];\r\n\r\n  const userPayingAccountAddress = candyMachine.state.tokenMint\r\n    ? (await getAtaForMint(candyMachine.state.tokenMint, payer))[0]\r\n    : payer;\r\n\r\n  const candyMachineAddress = candyMachine.id;\r\n  const remainingAccounts = [];\r\n  const cleanupInstructions = [];\r\n  const instructions = [];\r\n  const signers: anchor.web3.Keypair[] = [];\r\n  console.log('SetupState: ', setupState);\r\n  if (!setupState) {\r\n    signers.push(mint);\r\n    instructions.push(\r\n      ...[\r\n        anchor.web3.SystemProgram.createAccount({\r\n          fromPubkey: payer,\r\n          newAccountPubkey: mint.publicKey,\r\n          space: MintLayout.span,\r\n          lamports:\r\n            await candyMachine.program.provider.connection.getMinimumBalanceForRentExemption(\r\n              MintLayout.span,\r\n            ),\r\n          programId: TOKEN_PROGRAM_ID,\r\n        }),\r\n        Token.createInitMintInstruction(\r\n          TOKEN_PROGRAM_ID,\r\n          mint.publicKey,\r\n          0,\r\n          payer,\r\n          payer,\r\n        ),\r\n        createAssociatedTokenAccountInstruction(\r\n          userTokenAccountAddress,\r\n          payer,\r\n          payer,\r\n          mint.publicKey,\r\n        ),\r\n        Token.createMintToInstruction(\r\n          TOKEN_PROGRAM_ID,\r\n          mint.publicKey,\r\n          userTokenAccountAddress,\r\n          payer,\r\n          [],\r\n          1,\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n\r\n  if (candyMachine.state.gatekeeper) {\r\n    remainingAccounts.push({\r\n      pubkey: (\r\n        await getNetworkToken(\r\n          payer,\r\n          candyMachine.state.gatekeeper.gatekeeperNetwork,\r\n        )\r\n      )[0],\r\n      isWritable: true,\r\n      isSigner: false,\r\n    });\r\n\r\n    if (candyMachine.state.gatekeeper.expireOnUse) {\r\n      remainingAccounts.push({\r\n        pubkey: CIVIC,\r\n        isWritable: false,\r\n        isSigner: false,\r\n      });\r\n      remainingAccounts.push({\r\n        pubkey: (\r\n          await getNetworkExpire(\r\n            candyMachine.state.gatekeeper.gatekeeperNetwork,\r\n          )\r\n        )[0],\r\n        isWritable: false,\r\n        isSigner: false,\r\n      });\r\n    }\r\n  }\r\n  if (candyMachine.state.whitelistMintSettings) {\r\n    const mint = new anchor.web3.PublicKey(\r\n      candyMachine.state.whitelistMintSettings.mint,\r\n    );\r\n\r\n    const whitelistToken = (await getAtaForMint(mint, payer))[0];\r\n    remainingAccounts.push({\r\n      pubkey: whitelistToken,\r\n      isWritable: true,\r\n      isSigner: false,\r\n    });\r\n\r\n    if (candyMachine.state.whitelistMintSettings.mode.burnEveryTime) {\r\n      const whitelistBurnAuthority = anchor.web3.Keypair.generate();\r\n\r\n      remainingAccounts.push({\r\n        pubkey: mint,\r\n        isWritable: true,\r\n        isSigner: false,\r\n      });\r\n      remainingAccounts.push({\r\n        pubkey: whitelistBurnAuthority.publicKey,\r\n        isWritable: false,\r\n        isSigner: true,\r\n      });\r\n      signers.push(whitelistBurnAuthority);\r\n      const exists =\r\n        await candyMachine.program.provider.connection.getAccountInfo(\r\n          whitelistToken,\r\n        );\r\n      if (exists) {\r\n        instructions.push(\r\n          Token.createApproveInstruction(\r\n            TOKEN_PROGRAM_ID,\r\n            whitelistToken,\r\n            whitelistBurnAuthority.publicKey,\r\n            payer,\r\n            [],\r\n            1,\r\n          ),\r\n        );\r\n        cleanupInstructions.push(\r\n          Token.createRevokeInstruction(\r\n            TOKEN_PROGRAM_ID,\r\n            whitelistToken,\r\n            payer,\r\n            [],\r\n          ),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (candyMachine.state.tokenMint) {\r\n    const transferAuthority = anchor.web3.Keypair.generate();\r\n\r\n    signers.push(transferAuthority);\r\n    remainingAccounts.push({\r\n      pubkey: userPayingAccountAddress,\r\n      isWritable: true,\r\n      isSigner: false,\r\n    });\r\n    remainingAccounts.push({\r\n      pubkey: transferAuthority.publicKey,\r\n      isWritable: false,\r\n      isSigner: true,\r\n    });\r\n\r\n    instructions.push(\r\n      Token.createApproveInstruction(\r\n        TOKEN_PROGRAM_ID,\r\n        userPayingAccountAddress,\r\n        transferAuthority.publicKey,\r\n        payer,\r\n        [],\r\n        candyMachine.state.price.toNumber(),\r\n      ),\r\n    );\r\n    cleanupInstructions.push(\r\n      Token.createRevokeInstruction(\r\n        TOKEN_PROGRAM_ID,\r\n        userPayingAccountAddress,\r\n        payer,\r\n        [],\r\n      ),\r\n    );\r\n  }\r\n  const metadataAddress = await getMetadata(mint.publicKey);\r\n  const masterEdition = await getMasterEdition(mint.publicKey);\r\n\r\n  const [candyMachineCreator, creatorBump] = await getCandyMachineCreator(\r\n    candyMachineAddress,\r\n  );\r\n\r\n  console.log(remainingAccounts.map(rm => rm.pubkey.toBase58()));\r\n  instructions.push(\r\n    await candyMachine.program.instruction.mintNft(creatorBump, {\r\n      accounts: {\r\n        candyMachine: candyMachineAddress,\r\n        candyMachineCreator,\r\n        payer: payer,\r\n        wallet: candyMachine.state.treasury,\r\n        mint: mint.publicKey,\r\n        metadata: metadataAddress,\r\n        masterEdition,\r\n        mintAuthority: payer,\r\n        updateAuthority: payer,\r\n        tokenMetadataProgram: TOKEN_METADATA_PROGRAM_ID,\r\n        tokenProgram: TOKEN_PROGRAM_ID,\r\n        systemProgram: SystemProgram.programId,\r\n        rent: anchor.web3.SYSVAR_RENT_PUBKEY,\r\n        clock: anchor.web3.SYSVAR_CLOCK_PUBKEY,\r\n        recentBlockhashes: SYSVAR_SLOT_HASHES_PUBKEY,\r\n        instructionSysvarAccount: anchor.web3.SYSVAR_INSTRUCTIONS_PUBKEY,\r\n      },\r\n      remainingAccounts:\r\n        remainingAccounts.length > 0 ? remainingAccounts : undefined,\r\n    }),\r\n  );\r\n\r\n  const [collectionPDA] = await getCollectionPDA(candyMachineAddress);\r\n  const collectionPDAAccount =\r\n    await candyMachine.program.provider.connection.getAccountInfo(\r\n      collectionPDA,\r\n    );\r\n\r\n  if (collectionPDAAccount && candyMachine.state.retainAuthority) {\r\n    try {\r\n      const collectionData =\r\n        (await candyMachine.program.account.collectionPda.fetch(\r\n          collectionPDA,\r\n        )) as CollectionData;\r\n      console.log(collectionData);\r\n      const collectionMint = collectionData.mint;\r\n      const collectionAuthorityRecord = await getCollectionAuthorityRecordPDA(\r\n        collectionMint,\r\n        collectionPDA,\r\n      );\r\n      console.log(collectionMint);\r\n      if (collectionMint) {\r\n        const collectionMetadata = await getMetadata(collectionMint);\r\n        const collectionMasterEdition = await getMasterEdition(collectionMint);\r\n        console.log('Collection PDA: ', collectionPDA.toBase58());\r\n        console.log('Authority: ', candyMachine.state.authority.toBase58());\r\n        instructions.push(\r\n          await candyMachine.program.instruction.setCollectionDuringMint({\r\n            accounts: {\r\n              candyMachine: candyMachineAddress,\r\n              metadata: metadataAddress,\r\n              payer: payer,\r\n              collectionPda: collectionPDA,\r\n              tokenMetadataProgram: TOKEN_METADATA_PROGRAM_ID,\r\n              instructions: anchor.web3.SYSVAR_INSTRUCTIONS_PUBKEY,\r\n              collectionMint,\r\n              collectionMetadata,\r\n              collectionMasterEdition,\r\n              authority: candyMachine.state.authority,\r\n              collectionAuthorityRecord,\r\n            },\r\n          }),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  const instructionsMatrix = [instructions, cleanupInstructions];\r\n  const signersMatrix = [signers, []];\r\n\r\n  try {\r\n    const txns = (\r\n      await sendTransactions(\r\n        candyMachine.program.provider.connection,\r\n        candyMachine.program.provider.wallet,\r\n        instructionsMatrix,\r\n        signersMatrix,\r\n        SequenceType.StopOnFailure,\r\n        'singleGossip',\r\n        () => {},\r\n        () => false,\r\n        undefined,\r\n        beforeTransactions,\r\n        afterTransactions,\r\n      )\r\n    ).txs.map(t => t.txid);\r\n    const mintTxn = txns[0];\r\n    return {\r\n      mintTxId: mintTxn,\r\n      metadataKey: metadataAddress,\r\n    };\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const shortenAddress = (address: string, chars = 4): string => {\r\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\r\n};\r\n\r\nconst sleep = (ms: number): Promise<void> => {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n"]}}